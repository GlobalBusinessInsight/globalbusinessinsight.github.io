<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Lefty Exclusive: Badminton 12-Week Progression (Mobile Optimized)</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f1f5f9; /* Slate 100 for better mobile contrast */
            color: #1e293b; 
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            -webkit-font-smoothing: antialiased;
        }

        /* Mobile-First A4 Container */
        .a4-container {
            width: 100%;
            max-width: 794px; /* A4 width */
            background-color: white;
            margin: 0 auto;
            position: relative;
            /* Box shadow hidden on small mobile for cleaner look, added back on sm */
        }
        @media (min-width: 640px) {
            .a4-container {
                margin: 2rem auto;
                box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
                border-radius: 0.5rem;
            }
        }
        @media (min-width: 768px) {
            .a4-container {
                min-height: 1123px; /* Force A4 aspect ratio on larger screens */
            }
        }

        .a4-wrapper {
            width: 100%;
            display: flex;
            justify-content: center;
            padding-bottom: 5rem; /* Space for fixed bottom controls */
        }
        @media (min-width: 640px) {
            .a4-wrapper { padding: 0 1rem 6rem 1rem; }
        }

        /* Page Layout - Changed from absolute to display:none for responsive height */
        .page {
            display: none;
            flex-direction: column;
            padding: 1.5rem 1rem; /* Mobile padding */
            background: white;
            animation: fadeIn 0.4s ease-out;
            min-height: 100vh; /* Fill mobile screen height */
        }
        @media (min-width: 640px) {
            .page { padding: 40px 50px; min-height: auto; border-radius: 0.5rem; }
        }

        .page.active {
            display: flex;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .page-header {
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 1rem;
            margin-bottom: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            flex-shrink: 0;
        }
        @media (min-width: 640px) {
            .page-header { flex-direction: row; justify-content: space-between; align-items: flex-end; margin-bottom: 2rem; gap: 0; }
        }

        .page-footer {
            margin-top: auto; 
            border-top: 1px solid #e2e8f0;
            padding-top: 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.75rem;
            color: #64748b;
            flex-shrink: 0;
        }
        @media (min-width: 640px) {
            .page-footer { flex-direction: row; justify-content: space-between; }
        }

        .chart-container {
            position: relative;
            margin: auto;
            height: 280px; /* Shorter for mobile */
            width: 100%;
            max-width: 600px;
        }
        @media (min-width: 640px) {
            .chart-container { height: 380px; }
        }

        /* Navigation Controls */
        .controls {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            color: white;
            padding: 0.75rem 1rem;
            display: flex;
            justify-content: space-between; /* Spread out on mobile */
            align-items: center;
            z-index: 50;
            box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.1);
            padding-bottom: env(safe-area-inset-bottom, 0.75rem); /* iOS safe area */
        }
        @media (min-width: 640px) {
            .controls { justify-content: center; gap: 2rem; padding: 1rem; }
        }

        .control-btn {
            background: #0284c7;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-weight: 600;
            font-size: 0.875rem;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.375rem;
        }
        @media (min-width: 640px) {
            .control-btn { padding: 0.5rem 1.5rem; font-size: 1rem; gap: 0.5rem; }
        }
        .control-btn:hover:not(:disabled) { background: #0369a1; transform: translateY(-1px); }
        .control-btn:disabled { background: #475569; cursor: not-allowed; opacity: 0.5; }
        
        .drill-day-tag {
            writing-mode: vertical-rl;
            text-orientation: mixed;
            transform: rotate(180deg);
        }
    </style>
</head>
<body>

    <div class="a4-wrapper">
        <!-- Responsive A4 Container -->
        <div class="a4-container" id="report-document">
            
            <!-- ================= PAGE 1 ================= -->
            <div class="page active" id="page-1">
                <div class="page-header">
                    <div class="flex items-start sm:items-center gap-3">
                        <div class="bg-sky-600 text-white p-2.5 rounded-lg flex items-center justify-center w-12 h-12 sm:w-10 sm:h-10 shrink-0">
                            <i class="fa-solid fa-hand-sparkles text-xl sm:text-base"></i>
                        </div>
                        <div>
                            <h1 class="text-xl sm:text-2xl font-bold text-slate-900 tracking-tight leading-tight">LeftyEdge <span class="text-sky-600">Analytics</span></h1>
                            <p class="text-xs sm:text-sm text-slate-500 mt-1">Lefty Exclusive Profile (Academic Bal.)</p>
                        </div>
                    </div>
                    <div class="text-left sm:text-right text-xs sm:text-sm text-slate-500 border-t sm:border-t-0 pt-2 sm:pt-0">
                        <p><strong>Date:</strong> 2026-02-19</p>
                        <p><strong>File ID:</strong> RSEQ-L2011-002</p>
                    </div>
                </div>

                <div class="flex-grow flex flex-col gap-6">
                    <div class="bg-slate-50 p-4 sm:p-6 rounded-xl border border-slate-200 relative overflow-hidden flex-shrink-0 mt-2 sm:mt-0">
                        <div class="absolute top-0 right-0 bg-amber-400 text-amber-900 text-[10px] sm:text-xs font-bold px-3 py-1 rounded-bl-lg uppercase tracking-wider">
                            Rare Advantage
                        </div>
                        <h2 class="text-2xl sm:text-3xl font-bold text-slate-900 mb-4 sm:mb-6 pr-20">Blue Jersey</h2>
                        
                        <!-- Grid changes to 1 column on mobile, 2 on desktop -->
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-6 text-sm">
                            <div class="space-y-2 sm:space-y-3">
                                <div class="flex border-b border-slate-200 pb-2">
                                    <span class="text-slate-500 w-28 shrink-0"><i class="fa-regular fa-calendar mr-2"></i>Birth Year:</span>
                                    <span class="font-medium text-slate-900">2011 (~14 yrs)</span>
                                </div>
                                <div class="flex border-b border-slate-200 pb-2">
                                    <span class="text-slate-500 w-28 shrink-0"><i class="fa-solid fa-map-pin mr-2"></i>Area/Grade:</span>
                                    <span class="font-medium text-slate-900">Montreal / Gr 9</span>
                                </div>
                            </div>
                            <div class="space-y-2 sm:space-y-3 mt-2 sm:mt-0">
                                <div class="flex border-b border-slate-200 pb-2">
                                    <span class="text-slate-500 w-28 shrink-0"><i class="fa-solid fa-bullseye mr-2"></i>Core Strength:</span>
                                    <span class="font-medium text-green-600 font-bold">FH Attack</span>
                                </div>
                                <div class="flex border-b border-slate-200 pb-2">
                                    <span class="text-slate-500 w-28 shrink-0"><i class="fa-solid fa-shield-halved mr-2"></i>Fatal Flaw:</span>
                                    <span class="font-medium text-amber-600 font-bold">RTH Defense</span>
                                </div>
                            </div>
                        </div>

                        <div class="mt-4 bg-white p-3 sm:p-4 rounded-lg border border-slate-200 shadow-sm">
                            <h3 class="text-xs font-bold text-slate-500 uppercase tracking-wider mb-2"><i class="fa-solid fa-crosshairs mr-1"></i> Quality Over Quantity</h3>
                            <p class="text-[13px] sm:text-sm text-slate-700 italic leading-relaxed">"Given the Gr 9 academic load, this plan discards flashy techniques. **Focus**: 1. Maximize lefty forehand attacks. 2. Relentlessly patch the RTH (Round-the-Head) flaw. Physicals are decentralized to 40-min daily home routines."</p>
                        </div>
                    </div>

                    <div class="flex-grow flex flex-col items-center justify-center bg-white p-4 rounded-xl border border-slate-200 shadow-sm">
                        <h3 class="text-base sm:text-lg font-bold text-slate-900 mb-2 self-start border-l-4 border-sky-500 pl-3">Capability Anchor Chart</h3>
                        <div class="chart-container">
                            <canvas id="skillRadarChart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="page-footer">
                    <span>Elite Badminton System</span>
                    <span>Page 1 / 15</span>
                </div>
            </div>

            <!-- ================= PAGE 2 ================= -->
            <div class="page" id="page-2">
                <div class="page-header">
                    <h2 class="text-xl sm:text-2xl font-bold text-slate-900 tracking-tight">Tech Analysis (Lefty View)</h2>
                    <span class="text-xs sm:text-sm text-slate-500 border border-slate-300 px-2 py-1 rounded w-max">PART 01</span>
                </div>

                <div class="flex-grow flex flex-col gap-4 sm:gap-6">
                    <p class="text-sm sm:text-base text-slate-600 mb-2">Eliminating secondary issues to focus solely on match-deciding factors:</p>

                    <!-- Focus 1 -->
                    <div class="bg-white p-4 sm:p-6 rounded-xl border border-slate-200 shadow-sm border-l-4 border-l-green-500">
                        <div class="flex items-center gap-3 mb-4">
                            <div class="w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-green-100 flex items-center justify-center text-green-600 shrink-0">
                                <i class="fa-solid fa-arrow-trend-up"></i>
                            </div>
                            <h3 class="text-lg sm:text-xl font-bold text-slate-800 leading-tight">Advantage: FH Firepower</h3>
                        </div>
                        <ul class="space-y-4 text-[13px] sm:text-sm text-slate-700">
                            <li class="flex gap-3 items-start">
                                <i class="fa-solid fa-circle-check text-green-500 mt-0.5 sm:mt-1"></i>
                                <div>
                                    <strong class="block text-slate-900 mb-0.5">Current Status</strong>
                                    <span>Strikes in the left-half (forehand) zone are fluid, showing a strong framework to drive the shuttle downwards.</span>
                                </div>
                            </li>
                            <li class="flex gap-3 items-start">
                                <i class="fa-solid fa-bullseye text-sky-600 mt-0.5 sm:mt-1"></i>
                                <div>
                                    <strong class="block text-slate-900 mb-0.5">Focus Area</strong>
                                    <span>Enhance smash placement precision targeting the righty's backhand. Develop a deceptive 'reverse slice' to form a dual-threat.</span>
                                </div>
                            </li>
                        </ul>
                    </div>

                    <!-- Focus 2 -->
                    <div class="bg-white p-4 sm:p-6 rounded-xl border border-slate-200 shadow-sm border-l-4 border-l-amber-500">
                        <div class="flex items-center gap-3 mb-4">
                            <div class="w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-amber-100 flex items-center justify-center text-amber-600 shrink-0">
                                <i class="fa-solid fa-shield-halved"></i>
                            </div>
                            <h3 class="text-lg sm:text-xl font-bold text-slate-800 leading-tight">Weakness: RTH & Grip</h3>
                        </div>
                        <ul class="space-y-4 text-[13px] sm:text-sm text-slate-700">
                            <li class="flex gap-3 items-start">
                                <i class="fa-solid fa-triangle-exclamation text-amber-500 mt-0.5 sm:mt-1"></i>
                                <div>
                                    <strong class="block text-slate-900 mb-0.5">Round-The-Head Retreat</strong>
                                    <span>Retreats with body facing the net instead of turning sideways. If unfixed, opponents will exploit this with attacking clears.</span>
                                </div>
                            </li>
                            <li class="flex gap-3 items-start">
                                <i class="fa-solid fa-triangle-exclamation text-amber-500 mt-0.5 sm:mt-1"></i>
                                <div>
                                    <strong class="block text-slate-900 mb-0.5">Sluggish Grip Transition</strong>
                                    <span>Tends to use a 'pan-handle' grip for front-right net shots. Needs rapid finger-power muscle memory.</span>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="page-footer">
                    <span>Elite Badminton System</span>
                    <span>Page 2 / 15</span>
                </div>
            </div>

            <!-- Pages 3 to 14 will be generated dynamically by JavaScript -->

            <!-- ================= PAGE 15 ================= -->
            <div class="page" id="page-15">
                <div class="page-header">
                    <h2 class="text-xl sm:text-2xl font-bold text-slate-900 tracking-tight">Coach's Interventions</h2>
                    <span class="text-xs sm:text-sm text-slate-500 border border-slate-300 px-2 py-1 rounded w-max">PART 03</span>
                </div>

                <div class="flex-grow flex flex-col gap-6">
                    
                    <div class="bg-slate-800 text-white p-5 sm:p-8 rounded-xl relative overflow-hidden shadow-lg">
                        <div class="absolute -right-6 -top-6 sm:-right-10 sm:-top-10 opacity-10">
                            <i class="fa-solid fa-feather-pointed text-8xl sm:text-9xl"></i>
                        </div>
                        <h3 class="text-lg sm:text-2xl font-bold mb-4 sm:mb-6 text-sky-400 flex items-center gap-2 sm:gap-3">
                            <i class="fa-solid fa-comment-dots"></i> Core Insight
                        </h3>
                        <p class="leading-relaxed text-slate-300 mb-3 sm:mb-4 text-sm sm:text-lg">
                            This is a highly restrained plan. I haven't included flashy trick shots. For a Grade 9 lefty, <strong>time is the biggest cost</strong>.
                        </p>
                        <p class="leading-relaxed text-slate-300 text-sm sm:text-lg">
                            If he commits to the 40-min nightly shadow RTH kicks to patch the vulnerability, and uses court time to turn his lefty advantage (pinning the righty backhand) into reflex, he will suffocate opponents in the youth circuit.
                        </p>
                    </div>
                    
                    <div class="bg-sky-50 p-5 sm:p-8 rounded-xl border border-sky-200 shadow-sm flex-grow">
                        <h3 class="text-lg sm:text-xl font-bold mb-4 sm:mb-6 text-sky-900 flex items-center gap-2 sm:gap-3">
                            <i class="fa-solid fa-triangle-exclamation text-amber-500"></i> Parent Checklist
                        </h3>
                        <ul class="space-y-4 sm:space-y-6">
                            <li class="flex items-start gap-3 sm:gap-4">
                                <div class="w-6 h-6 sm:w-8 sm:h-8 shrink-0 rounded-full bg-sky-200 flex items-center justify-center text-sky-700 font-bold text-xs sm:text-sm"><i class="fa-solid fa-1"></i></div>
                                <div>
                                    <strong class="text-slate-900 block mb-0.5 sm:mb-1 text-[13px] sm:text-base">Fragmented Daily Training</strong>
                                    <span class="text-slate-600 text-xs sm:text-sm">Finger twirls don't need a court. Rotate grips while watching TV to build muscle memory and eliminate the 'pan-handle' grip.</span>
                                </div>
                            </li>
                            <li class="flex items-start gap-3 sm:gap-4">
                                <div class="w-6 h-6 sm:w-8 sm:h-8 shrink-0 rounded-full bg-sky-200 flex items-center justify-center text-sky-700 font-bold text-xs sm:text-sm"><i class="fa-solid fa-2"></i></div>
                                <div>
                                    <strong class="text-slate-900 block mb-0.5 sm:mb-1 text-[13px] sm:text-base">Monitor Shadow Footwork</strong>
                                    <span class="text-slate-600 text-xs sm:text-sm">Ensure he turns his body <strong>completely sideways</strong> during RTH retreats at home. This prevents lower back and knee injuries.</span>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="page-footer">
                    <span>Elite Badminton System</span>
                    <span>Page 15 / 15</span>
                </div>
            </div>

        </div>
    </div>

    <!-- Pagination Controls (Mobile Optimized) -->
    <div class="controls">
        <button id="prevBtn" class="control-btn" onclick="prevPage()" disabled>
            <i class="fa-solid fa-chevron-left"></i> <span class="hidden sm:inline">Previous</span>
        </button>
        <div class="font-bold tracking-widest text-[11px] sm:text-sm bg-slate-800/50 px-3 py-1.5 rounded-full backdrop-blur" id="pageIndicator">
            1 / 15
        </div>
        <button id="nextBtn" class="control-btn" onclick="nextPage()">
            <span class="hidden sm:inline">Next</span> <i class="fa-solid fa-chevron-right"></i>
        </button>
    </div>

    <!-- JavaScript Logic -->
    <script>
        // --- 12 Weeks Data (English) ---
        const weekData = [
            {
                week: 1, phase: "Ph 1: Foundation & Grip", title: "Grip Switch & Sideways",
                physical: {
                    duration: "40 Mins",
                    routine: [
                        { name: "Jump Rope (10m)", desc: "Feet together, forefoot bounce." },
                        { name: "Specific Shadow (15m)", desc: "Force sideways turn -> Right foot back -> Scissor kick." },
                        { name: "Core Resist (10m)", desc: "Planks & Crunches." },
                        { name: "Finger Twirls (5m)", desc: "Rapid switch from forehand to backhand grip." }
                    ]
                },
                technical: [
                    { day: "Session 1", drill: "Net Drops (FH/BH)", keyPoint: "Use finger power. Instant backhand switch.", metric: "20 drops without 'pan-handle' grip." },
                    { day: "Session 2", drill: "Multi: RTH Clears", keyPoint: "MUST turn sideways. Impact in front-right.", metric: "No leaning backward during stroke." },
                    { day: "Session 3", drill: "6-Point Shadow", keyPoint: "First move MUST be a slight 'split step'.", metric: "5 sets x 20 points without dropping speed." }
                ]
            },
            {
                week: 2, phase: "Ph 1: Foundation & Grip", title: "RTH Retreat & Net Touch",
                physical: {
                    duration: "40 Mins",
                    routine: [
                        { name: "Agility Ladder (10m)", desc: "Quick steps, foot frequency." },
                        { name: "Weighted RTH (15m)", desc: "Sideways scissor kicks with light 0.5kg dumbbell." },
                        { name: "Wall Sits (10m)", desc: "3x1 min to protect knees." },
                        { name: "Wrist Flex (5m)", desc: "Stretch forearm muscles." }
                    ]
                },
                technical: [
                    { day: "Session 1", drill: "Multi: Full Court Clear", keyPoint: "Feel 'forearm pronation' on FH and RTH sides.", metric: "70% of shuttles within 0.5m of baseline." },
                    { day: "Session 2", drill: "Net Lift Focus", keyPoint: "Front-right low shuttles must use standard BH grip.", metric: "Clear opponent's reach to baseline." },
                    { day: "Session 3", drill: "Restricted Defense", keyPoint: "Defend only RTH zone. Force sideways turn under pressure.", metric: "Survive 3 attacks without conceding." }
                ]
            },
            {
                week: 3, phase: "Ph 1: Foundation & Grip", title: "Flow Integration & Net",
                physical: {
                    duration: "40 Mins",
                    routine: [
                        { name: "1-leg Jump Rope (10m)", desc: "Alternate legs for stability." },
                        { name: "Asterisk Footwork (15m)", desc: "Clear start, brake, recovery." },
                        { name: "Side Crunches (10m)", desc: "Target obliques for smash rotation." },
                        { name: "Resist Twirls (5m)", desc: "Grip switch with plastic bag over racket." }
                    ]
                },
                technical: [
                    { day: "Session 1", drill: "Smash + Net Kill", keyPoint: "Smash left-rear, push off left foot to sprint to net.", metric: "Time gap < 1.5 seconds." },
                    { day: "Session 2", drill: "Passive RTH Drop", keyPoint: "Use reverse slice cross-court when late to retreat.", metric: "Drop must dive tight, no tap chance." },
                    { day: "Session 3", drill: "Flat Drive Rally", keyPoint: "Mid-front court fast drives. Monitor BH grip usage.", metric: "Rally 15 continuous shots." }
                ]
            },
            {
                week: 4, phase: "Ph 1: Foundation & Grip", title: "Phase 1 Testing",
                physical: {
                    duration: "40 Mins",
                    routine: [
                        { name: "Shuttle Runs (10m)", desc: "Sprints for burst and cardio." },
                        { name: "Shadow Exam (15m)", desc: "Full-speed RTH sideways swings. Record & grade." },
                        { name: "Core Twist (10m)", desc: "Russian twists with water bottle." },
                        { name: "Stretching (5m)", desc: "Full-body lactic acid clearance." }
                    ]
                },
                technical: [
                    { day: "Session 1", drill: "4-Corner Random", keyPoint: "Test split step and check if 'frontal retreat' returns.", metric: "100% sideways RTH retreat." },
                    { day: "Session 2", drill: "Serve & Receive", keyPoint: "Serve to righty's BH net or body using lefty angle.", metric: "Service error rate < 5%." },
                    { day: "Session 3", drill: "Half-Court Match", keyPoint: "Mandatory standard BH grip on all net BH shots.", metric: "-1 point per 'pan-handle' grip." }
                ]
            },
            {
                week: 5, phase: "Ph 2: Lefty Special Moves", title: "Reverse Slice Cross-Court",
                physical: {
                    duration: "40 Mins",
                    routine: [
                        { name: "Jump Rope (10m)", desc: "Standard warm-up." },
                        { name: "Rotator Bands (15m)", desc: "Internal/external rotation." },
                        { name: "Planks (10m)", desc: "Core strengthening." },
                        { name: "Grip Squeeze (5m)", desc: "Squeeze tennis ball." }
                    ]
                },
                technical: [
                    { day: "Session 1", drill: "Stationary FH Slice", keyPoint: "Jump mimics smash, but racket slices right side of cork.", metric: "Land inside opponent's short service line." },
                    { day: "Session 2", drill: "Clear/Slice Combo", keyPoint: "Hit 1 clear, 1 slice. Feel prep action consistency.", metric: "Ensure opponent cannot pre-empt net rush." },
                    { day: "Session 3", drill: "Condition Match", keyPoint: "Direct points won via reverse slice count as 2 points.", metric: "Score ≥4 points via slice per game." }
                ]
            },
            {
                week: 6, phase: "Ph 2: Lefty Special Moves", title: "Straight Max Velocity Smash",
                physical: {
                    duration: "40 Mins",
                    routine: [
                        { name: "Squat Jumps (10m)", desc: "Increase vertical jump height." },
                        { name: "Weighted Swings (15m)", desc: "'Whip' action with abdominal contraction." },
                        { name: "Leg Raises (10m)", desc: "Lower abdominal strength." },
                        { name: "Stretch (5m)", desc: "Standard cooldown." }
                    ]
                },
                technical: [
                    { day: "Session 1", drill: "Left-Rear Smash", keyPoint: "Full power down the line (targeting righty's backhand).", metric: "< 2 errors per 10 consecutive smashes." },
                    { day: "Session 2", drill: "Target Smash", keyPoint: "Place target mats on court. Hit the target zones.", metric: "Achieve 60% accuracy." },
                    { day: "Session 3", drill: "Def to Offense", keyPoint: "Lift smash -> catch weak return -> smash their backhand.", metric: "Build 'Defend -> Straight Attack' reflex." }
                ]
            },
            {
                week: 7, phase: "Ph 2: Lefty Special Moves", title: "System: Slice & Smash",
                physical: {
                    duration: "40 Mins",
                    routine: [
                        { name: "High Knee Sprint (10m)", desc: "High knees 10s -> 5m sprint." },
                        { name: "Smash & Rush (15m)", desc: "Jump swing rear -> land -> net rush." },
                        { name: "Russian Twist (10m)", desc: "Core rotation strength." },
                        { name: "Wrist Stretch (5m)", desc: "Relax forearm and wrist." }
                    ]
                },
                technical: [
                    { day: "Session 1", drill: "Combo: Slice + Smash", keyPoint: "Slice cross-court -> opponent lifts -> straight heavy smash.", metric: "Smooth combo flow, clear tactical intent." },
                    { day: "Session 2", drill: "Outnumbered (2v1)", keyPoint: "Find BH gap against two defenders on half-court.", metric: "Focus on attack quality, not blind power." },
                    { day: "Session 3", drill: "Full Court Match", keyPoint: "Actively use Slice/Smash combo to move opponent.", metric: "Reduce unforced errors by 15%." }
                ]
            },
            {
                week: 8, phase: "Ph 2: Lefty Special Moves", title: "Serve & First 3 Shots",
                physical: {
                    duration: "40 Mins",
                    routine: [
                        { name: "Double Unders (10m)", desc: "Continuous for absolute burst." },
                        { name: "Max Speed Swing (15m)", desc: "Flat drives at max velocity." },
                        { name: "Side Crunches (10m)", desc: "Strengthen obliques." },
                        { name: "Leg Stretch (5m)", desc: "Lactic acid clearance." }
                    ]
                },
                technical: [
                    { day: "Session 1", drill: "Serve Focus", keyPoint: "Lefty BH serve to Position 1 (front T) and outer corner.", metric: "20 serves without being killed." },
                    { day: "Session 2", drill: "Receive Drive", keyPoint: "Drive aggressively to righty's BH to force a high lift.", metric: "Fast, precise pushes. No interception." },
                    { day: "Session 3", drill: "First 3 Shots", keyPoint: "Play Serve, Receive, 3rd shot only to fight for initiative.", metric: "Win offensive initiative 7/10 times." }
                ]
            },
            {
                week: 9, phase: "Ph 3: Tactical Execution", title: "Brainwash: Pin Backhand",
                physical: {
                    duration: "40 Mins",
                    routine: [
                        { name: "Agility Ladder (10m)", desc: "Foot frequency." },
                        { name: "Full Asterisk (15m)", desc: "Match pace, deliberate split step pauses." },
                        { name: "Wall Sits (10m)", desc: "Muscular endurance." },
                        { name: "Finger Twirls (5m)", desc: "Grip transition." }
                    ]
                },
                technical: [
                    { day: "Session 1", drill: "Multi: Pin BH", keyPoint: "70% MUST accurately target right-handed player's BH rear.", metric: "Build subconscious pinning memory." },
                    { day: "Session 2", drill: "Restricted Match", keyPoint: "You can ONLY hit straight (opponent's BH). Opponent hits anywhere.", metric: "Score purely through line-restriction." },
                    { day: "Session 3", drill: "Video Review", keyPoint: "Record game. Statistically track shots to opponent's BH rear.", metric: "Target metric: ≥60% of shots to BH." }
                ]
            },
            {
                week: 10, phase: "Ph 3: Tactical Execution", title: "Pin & Shift Tactic",
                physical: {
                    duration: "40 Mins",
                    routine: [
                        { name: "Shuttle Runs (10m)", desc: "Anaerobic endurance." },
                        { name: "RTH Maintenance (15m)", desc: "Reinforce RTH sideways motion." },
                        { name: "Planks (10m)", desc: "Core stability." },
                        { name: "Stretch (5m)", desc: "Full body." }
                    ]
                },
                technical: [
                    { day: "Session 1", drill: "Combo: Pin 1, Shift 2", keyPoint: "Shot 1: Pin BH rear. Shot 2: Fast push/drop to FH net void.", metric: "Execution must be decisive." },
                    { day: "Session 2", drill: "Condition Match", keyPoint: "Points ONLY count if won using 'Pin & Shift' tactic.", metric: "Force tactical application in live setting." },
                    { day: "Session 3", drill: "Defense Counter", keyPoint: "Block smashes cross-court to righty's BH net.", metric: "Blocks must hug the net cord." }
                ]
            },
            {
                week: 11, phase: "Ph 3: Tactical Execution", title: "High Pressure: RTH Test",
                physical: {
                    duration: "40 Mins",
                    routine: [
                        { name: "Jump Rope (10m)", desc: "Cardio maintenance." },
                        { name: "Pressure Shadow (15m)", desc: "High-intensity RTH sideways retreat swings. Simulate being pinned.", metric: "Form must not break down." },
                        { name: "Core Twist (10m)", desc: "Russian twists." },
                        { name: "Stretch (5m)", desc: "Standard." }
                    ]
                },
                technical: [
                    { day: "Session 1", drill: "2v1 Ultimate Def", keyPoint: "Face 2 attackers targeting your RTH zone.", metric: "Escape using reverse slice drops or deep clears." },
                    { day: "Session 2", drill: "Deficit Match", keyPoint: "Start down 0-5. Trains mental toughness.", metric: "No cheap errors; stick to BH pinning." },
                    { day: "Session 3", drill: "Fatigue Multi", keyPoint: "Multi-shuttle in extreme fatigue. Check if technique breaks.", metric: "NO frontal retreats, NO pan-handle grips." }
                ]
            },
            {
                week: 12, phase: "Ph 3: Tactical Execution", title: "RSEQ Sim Week",
                physical: {
                    duration: "20 Mins",
                    routine: [
                        { name: "Tapering (20m)", desc: "Light jogging, stretching, mild footwork activation. NO heavy lifting." }
                    ]
                },
                technical: [
                    { day: "Session 1", drill: "Tactical Review", keyPoint: "Review Reverse slice, straight smash, pin & shift.", metric: "Clear mind, decisive execution." },
                    { day: "Session 2", drill: "Full Sim Match", keyPoint: "Play Best-of-3 against top righty in the club.", metric: "Translate skills into pure instinct." },
                    { day: "Session 3", drill: "Final Evaluation", keyPoint: "Evaluate against Radar Chart: Is RTH fixed? Grip fluid? Lefty pressure evident?", metric: "Comprehensive 12-week validation." }
                ]
            }
        ];

        // --- Generate Weekly Pages ---
        function generateWeeklyPages() {
            const container = document.getElementById('report-document');
            const page15 = document.getElementById('page-15');

            weekData.forEach((data, index) => {
                const pageNum = index + 3; 
                const pageDiv = document.createElement('div');
                pageDiv.className = 'page';
                pageDiv.id = `page-${pageNum}`;

                // Mobile optimized 1 column, Desktop 2 columns
                let physicalHtml = '';
                data.physical.routine.forEach(item => {
                    physicalHtml += `
                        <div class="flex items-start gap-2 sm:gap-3 mb-2 sm:mb-3">
                            <i class="fa-solid fa-bolt text-amber-500 mt-0.5 sm:mt-1 text-sm sm:text-base"></i>
                            <div>
                                <strong class="text-slate-800 text-[13px] sm:text-sm leading-tight block mb-0.5">${item.name}</strong>
                                <p class="text-[11px] sm:text-xs text-slate-600 leading-snug">${item.desc}</p>
                            </div>
                        </div>
                    `;
                });

                let techHtml = '';
                data.technical.forEach(item => {
                    techHtml += `
                        <div class="bg-white p-3 sm:p-4 rounded-lg border border-slate-200 shadow-sm relative pl-10 sm:pl-12 mb-3 sm:mb-4">
                            <div class="absolute left-0 top-0 bottom-0 w-8 sm:w-10 bg-sky-100 flex items-center justify-center rounded-l-lg border-r border-slate-100">
                                <span class="text-sky-800 font-bold text-[10px] sm:text-xs drill-day-tag uppercase tracking-widest">${item.day}</span>
                            </div>
                            <h4 class="font-bold text-slate-800 text-sm sm:text-[15px] mb-2 leading-tight">${item.drill}</h4>
                            <div class="space-y-1.5 sm:space-y-2">
                                <p class="text-[12px] sm:text-sm text-slate-700 bg-slate-50 p-2 rounded leading-snug"><strong class="text-slate-900"><i class="fa-solid fa-key text-sky-500 mr-1"></i>Focus:</strong> ${item.keyPoint}</p>
                                <p class="text-[12px] sm:text-sm text-slate-700 bg-green-50 p-2 rounded border border-green-100 leading-snug"><strong class="text-green-800"><i class="fa-solid fa-flag-checkered text-green-600 mr-1"></i>Goal:</strong> ${item.metric}</p>
                            </div>
                        </div>
                    `;
                });

                pageDiv.innerHTML = `
                    <div class="page-header">
                        <div>
                            <span class="text-[10px] sm:text-xs font-bold text-sky-600 tracking-wider uppercase">${data.phase}</span>
                            <h2 class="text-xl sm:text-2xl font-bold text-slate-900 tracking-tight mt-0.5 sm:mt-1 leading-tight">Wk ${data.week}: ${data.title}</h2>
                        </div>
                        <span class="hidden sm:inline-block text-sm text-slate-500 border border-slate-300 px-2 py-1 rounded shadow-sm bg-slate-50">WEEK ${data.week}</span>
                    </div>

                    <div class="flex-grow flex flex-col gap-4 sm:gap-6">
                        
                        <div class="bg-amber-50 border border-amber-200 rounded-xl p-4 sm:p-5 shadow-sm">
                            <div class="flex items-center gap-2 mb-3 border-b border-amber-200 pb-2">
                                <div class="w-6 h-6 sm:w-8 sm:h-8 rounded bg-amber-500 text-white flex items-center justify-center shrink-0"><i class="fa-solid fa-moon text-xs sm:text-base"></i></div>
                                <h3 class="font-bold text-amber-900 text-sm sm:text-lg leading-tight">Home Physical & Shadow (${data.physical.duration})</h3>
                            </div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 sm:gap-x-6">
                                ${physicalHtml}
                            </div>
                        </div>

                        <div class="flex-grow">
                            <div class="flex items-center gap-2 mb-3 sm:mb-4">
                                <div class="w-6 h-6 sm:w-8 sm:h-8 rounded bg-sky-600 text-white flex items-center justify-center shrink-0"><i class="fa-solid fa-dumbbell text-xs sm:text-base"></i></div>
                                <h3 class="font-bold text-sky-900 text-sm sm:text-lg leading-tight">Court Tech (3x/Wk)</h3>
                            </div>
                            ${techHtml}
                        </div>
                    </div>

                    <div class="page-footer">
                        <span>Elite Badminton System</span>
                        <span>Page ${pageNum} / 15</span>
                    </div>
                `;
                
                container.insertBefore(pageDiv, page15);
            });
        }

        // --- Pagination Logic ---
        let currentPage = 1;
        const totalPages = 15;
        let chartInstance = null; 

        function updatePagination() {
            for (let i = 1; i <= totalPages; i++) {
                const pageEl = document.getElementById(`page-${i}`);
                if (pageEl) {
                    if (i === currentPage) {
                        pageEl.classList.add('active');
                    } else {
                        pageEl.classList.remove('active');
                    }
                }
            }
            
            // Scroll to top on page change (crucial for mobile)
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            document.getElementById('pageIndicator').innerText = `${currentPage} / ${totalPages}`;
            document.getElementById('prevBtn').disabled = currentPage === 1;
            document.getElementById('nextBtn').disabled = currentPage === totalPages;

            if (currentPage === 1 && !chartInstance) {
                initChart();
            }
        }

        function nextPage() { if (currentPage < totalPages) { currentPage++; updatePagination(); } }
        function prevPage() { if (currentPage > 1) { currentPage--; updatePagination(); } }

        // Touch swipe support for mobile
        let touchstartX = 0;
        let touchendX = 0;
        
        document.addEventListener('touchstart', e => {
            touchstartX = e.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', e => {
            touchendX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            const swipeThreshold = 50; // minimum distance to register swipe
            if (touchendX < touchstartX - swipeThreshold) {
                nextPage(); // Swipe left -> Next
            }
            if (touchendX > touchstartX + swipeThreshold) {
                prevPage(); // Swipe right -> Prev
            }
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') nextPage();
            if (e.key === 'ArrowLeft') prevPage();
        });

        // --- Radar Chart Initialization ---
        function initChart() {
            const ctx = document.getElementById('skillRadarChart').getContext('2d');
            
            // Detect mobile for font sizing
            const isMobile = window.innerWidth < 640;
            
            chartInstance = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: [
                        'FH Firepower', 
                        'RTH Defense', 
                        'Grip Agility', 
                        'Lefty Tactic', 
                        'Footwork Flow', 
                        'Physical Reserves'
                    ],
                    datasets: [{
                        label: 'Current Status',
                        data: [78, 40, 45, 55, 65, 60],
                        fill: true,
                        backgroundColor: 'rgba(2, 132, 199, 0.2)',
                        borderColor: 'rgb(2, 132, 199)',
                        pointBackgroundColor: 'rgb(2, 132, 199)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgb(2, 132, 199)'
                    }, {
                        label: '12-Wk Target',
                        data: [85, 70, 75, 80, 70, 75],
                        fill: true,
                        backgroundColor: 'rgba(34, 197, 94, 0.1)',
                        borderColor: 'rgb(34, 197, 94)',
                        pointBackgroundColor: 'rgb(34, 197, 94)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgb(34, 197, 94)',
                        borderDash: [5, 5]
                    }]
                },
                options: {
                    maintainAspectRatio: false,
                    elements: { line: { borderWidth: 2 } },
                    scales: {
                        r: {
                            angleLines: { color: '#e2e8f0' },
                            grid: { color: '#e2e8f0' },
                            pointLabels: {
                                font: { size: isMobile ? 9 : 11, family: 'Inter', weight: 'bold' },
                                color: '#334155'
                            },
                            suggestedMin: 0,
                            suggestedMax: 100,
                            ticks: { display: false } // Hide numbers to save space on mobile
                        }
                    },
                    plugins: {
                        legend: { 
                            position: 'bottom', 
                            labels: { 
                                font: { size: isMobile ? 10 : 12, family: 'Inter' }, 
                                usePointStyle: true, 
                                boxWidth: 6,
                                padding: isMobile ? 10 : 20
                            } 
                        },
                        tooltip: {
                            bodyFont: { size: isMobile ? 10 : 12 }
                        }
                    }
                }
            });
        }

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', function() {
            generateWeeklyPages(); 
            updatePagination();    
        });
    </script>
</body>
</html>
