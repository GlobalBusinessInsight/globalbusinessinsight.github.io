<!DOCTYPE html>
<html lang="zh-CN" class="scroll-smooth">
<head>
 <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6214772877334340"
     crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nucor N2 平台深度解析：钢铁行业的数字化革命</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700;900&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Tech Corporate Blue -->
    <!-- Application Structure Plan: A single-page marketing/technical deep-dive site for the Nucor N2 platform. The structure is designed to guide a user from a high-level strategic overview down to granular technical details. The flow is: 1. Hero (What is N2?), 2. Background (Why N2?), 3. History & Roadmap (How was N2 built?), 4. Budget & Team (Who built N2?), 5. Platform Deep Dive (Detailed 'How it works' with architecture diagram and functional breakdowns). This structure logically answers all key questions a potential customer or analyst might have about the platform. -->
    <!-- Visualization & Content Choices: 1. Hero: Compelling text. 2. Background/History/Budget: Informative text sections. 3. Roadmap: (Report Info: Development phases) -> Goal: Show evolution -> Viz: A vertical timeline built with HTML/CSS. 4. Architecture Diagram: (Report Info: Platform structure) -> Goal: Visualize tech stack -> Viz: A pure CSS/HTML diagram. 5. Functional Breakdown: (Report Info: Key features) -> Goal: Detail platform capabilities -> Viz: Detailed text with strong typography and lists, accompanied by 6 high-fidelity UI mockups. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #f8fafc; /* Tailwind gray-50 */
            color: #1f2937; /* Tailwind gray-800 */
        }
        .nav-link.active {
            color: #2563eb; /* Tailwind blue-600 */
            border-bottom-color: #2563eb;
        }
        .hero-gradient {
            background: linear-gradient(to right, #3b82f6, #1e40af);
        }
        .section-title::after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background-color: #3b82f6; /* Tailwind blue-500 */
            margin-top: 1rem;
        }
        
        /* Roadmap Timeline Styles */
        .roadmap-container {
            position: relative;
            padding: 2rem 0;
        }
        .roadmap-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 3px;
            height: 100%;
            background-color: #d1d5db; /* Tailwind gray-300 */
        }
        .roadmap-item {
            position: relative;
            width: 50%;
            margin-bottom: 2.5rem;
            padding: 0 2.5rem;
        }
        .roadmap-item:nth-child(odd) {
            left: 0;
            text-align: right;
        }
        .roadmap-item:nth-child(even) {
            left: 50%;
            text-align: left;
        }
        .roadmap-item::after {
            content: '';
            position: absolute;
            top: 0.25rem;
            width: 1.25rem;
            height: 1.25rem;
            border-radius: 50%;
            background-color: white;
            border: 4px solid #3b82f6;
            z-index: 10;
        }
        .roadmap-item:nth-child(odd)::after {
            right: -0.625rem;
        }
        .roadmap-item:nth-child(even)::after {
            left: -0.625rem;
        }
        @media (max-width: 768px) {
            .roadmap-container::before {
                left: 1rem;
            }
            .roadmap-item {
                width: 100%;
                left: 0 !important;
                padding-left: 3rem;
                padding-right: 1rem;
                text-align: left !important;
                margin-bottom: 2rem;
            }
            .roadmap-item::after {
                left: 0.375rem !important;
            }
        }
        
        /* N2 Architecture Diagram Styles */
        .n2-arch-diagram {
            background-color: #f9fafb;
            padding: 1rem;
            border: 1px solid #e5e7eb;
            font-family: 'Noto Sans SC', sans-serif;
            margin-top: 1.5rem;
        }
        .arch-layer {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
            position: relative;
            align-items: center;
        }
        .arch-layer:not(:last-child)::after {
            content: '↓';
            position: absolute;
            bottom: -1rem;
            font-size: 1.25rem;
            color: #9ca3af;
        }
        .arch-box {
            padding: 0.75rem;
            text-align: center;
            border-radius: 0.25rem;
            font-size: 0.8rem;
            font-weight: bold;
            flex-grow: 1;
            flex-basis: 0;
            min-width: 0;
        }
        .app-layer { background-color: #dbeafe; color: #1e40af; border: 1px solid #93c5fd; }
        .platform-layer { background-color: #d1fae5; color: #065f46; border: 1px solid #6ee7b7; }
        .data-layer { background-color: #fee2e2; color: #991b1b; border: 1px solid #fca5a5; }
        .infra-layer { background-color: #e5e7eb; color: #4b5563; border: 1px solid #d1d5db; }
        .arch-title {
            text-align: center;
            font-weight: bold;
            margin-bottom: 0.25rem;
            color: #6b7280;
            font-size: 0.75rem;
            text-transform: uppercase;
        }

        /* UI Mockup Styles */
        .ui-mockup-container {
            margin-top: 2rem;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            background-color: #f9fafb;
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            overflow: hidden;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            font-size: 14px;
        }
        .ui-mockup-window {
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        .ui-mockup-header {
            padding: 0.5rem 1rem;
            background-color: #e5e7eb;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            border-bottom: 1px solid #d1d5db;
        }
        .ui-mockup-dot {
            width: 0.75rem;
            height: 0.75rem;
            border-radius: 9999px;
        }
        .ui-mockup-content-area {
            display: flex;
            flex-grow: 1;
        }
        .ui-mockup-sidebar {
            width: 200px;
            background-color: #f3f4f6;
            padding: 1rem;
            border-right: 1px solid #d1d5db;
            flex-shrink: 0;
        }
        .ui-mockup-sidebar a {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem;
            border-radius: 0.375rem;
            margin-bottom: 0.25rem;
            font-weight: 500;
            color: #4b5563;
            font-size: 0.875rem;
            transition: all 0.2s;
        }
        .ui-mockup-sidebar a:hover {
            background-color: #e5e7eb;
        }
        .ui-mockup-sidebar a.active {
            background-color: #dbeafe;
            color: #1e40af;
        }
        .ui-mockup-body {
            padding: 1.5rem 2rem;
            flex-grow: 1;
            background-color: #ffffff;
            overflow-x: auto;
        }
        .ui-table {
            width: 100%;
            font-size: 0.8rem;
            text-align: left;
            border-collapse: collapse;
        }
        .ui-table th, .ui-table td {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #e5e7eb;
            white-space: nowrap;
        }
        .ui-table th {
            font-weight: 600;
            color: #4b5563;
            background-color: #f9fafb;
        }
        .ui-status {
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-weight: 500;
            font-size: 0.75rem;
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
        }
        .status-dot {
            width: 0.5rem;
            height: 0.5rem;
            border-radius: 50%;
        }
        .ui-button {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            font-weight: 600;
            font-size: 0.875rem;
            transition: all 0.2s;
        }
        .ui-button-primary {
            background-color: #2563eb;
            color: white;
        }
         .ui-kpi-card {
            background-color: #f9fafb;
            padding: 1rem;
            border-radius: 0.5rem;
            border: 1px solid #e5e7eb;
        }
         .progress-bar {
            background-color: #d1d5db;
            border-radius: 9999px;
            height: 0.5rem;
            width: 100%;
        }
        .progress-bar-fill {
            background-color: #3b82f6;
            height: 100%;
            border-radius: 9999px;
        }
    </style>
</head>
<body class="antialiased">

    <header id="header" class="bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <h1 class="text-2xl font-black tracking-tighter text-blue-800">NUCOR N2 PLATFORM</h1>
            <div class="hidden lg:flex space-x-8">
                <a href="#background" class="nav-link text-sm font-bold border-b-2 border-transparent hover:text-blue-600 pb-1">背景</a>
                <a href="#roadmap" class="nav-link text-sm font-bold border-b-2 border-transparent hover:text-blue-600 pb-1">历程</a>
                <a href="#investment" class="nav-link text-sm font-bold border-b-2 border-transparent hover:text-blue-600 pb-1">投入</a>
                <a href="#deep-dive" class="nav-link text-sm font-bold border-b-2 border-transparent hover:text-blue-600 pb-1">深度解析</a>
            </div>
            <button id="mobile-menu-button" class="lg:hidden focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </nav>
        <div id="mobile-menu" class="hidden lg:hidden px-6 pb-4 border-t border-gray-200">
            <a href="#background" class="block py-2 text-center nav-link font-bold">背景</a>
            <a href="#roadmap" class="block py-2 text-center nav-link font-bold">历程</a>
            <a href="#investment" class="block py-2 text-center nav-link font-bold">投入</a>
            <a href="#deep-dive" class="block py-2 text-center nav-link font-bold">深度解析</a>
        </div>
    </header>

    <main>
        <section id="hero" class="hero-gradient text-white py-20">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-4xl lg:text-6xl font-extrabold mb-4">Connecting the Future of Steel</h2>
                <p class="text-lg lg:text-xl max-w-3xl mx-auto">
                    The Nucor N2 Platform is the digital transformation engine of our company. More than just software, it's a business ecosystem connecting customers, supply chain, and smart manufacturing to transform Nucor from a world-class steelmaker into a data-driven, customer-centric solutions provider.
                </p>
            </div>
        </section>

        <section id="background" class="py-20 bg-white">
             <div class="container mx-auto px-6">
                <div class="max-w-4xl mx-auto">
                    <h3 class="text-3xl font-bold mb-8 section-title">背景与动因：为何需要N2平台？</h3>
                    <div class="space-y-6 text-gray-700 leading-relaxed">
                        <p>在21世纪初，尽管纽柯已是北美最成功的钢铁企业，但其赖以成功的“极端去中心化”模式也带来了新的挑战。数百个独立的业务单元使用着各自为政的IT系统，形成了大量“信息孤岛”，这导致了几个核心痛点：</p>
                        <ul class="list-disc list-inside space-y-3 pl-4">
                            <li><strong>客户体验碎片化：</strong> 客户与纽柯的不同部门打交道，需要面对不同的流程和系统，体验不一致且效率低下。获取一个跨部门订单的完整状态几乎是不可能的。</li>
                            <li><strong>内部协同效率低下：</strong> 集团层面难以获得一个完整、实时的业务视图，无法进行精准的需求预测和库存优化，限制了协同效应的发挥。</li>
                            <li><strong>增长的天花板：</strong> 要想从低成本领导者转变为能提供高附加值解决方案的合作伙伴，纽柯必须具备强大的数据整合与分析能力。旧有的IT架构已成为其战略升级的最大瓶颈。</li>
                        </ul>
                        <p class="font-semibold text-gray-800">因此，N2平台的战略愿景应运而生：创建一个统一的数字化核心，在不牺牲去中心化运营模式活力的前提下，将整个集团凝聚成一个协同作战的智慧网络，实现从“卖产品”到“卖服务+解决方案”的根本性转变。</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="roadmap" class="py-20">
            <div class="container mx-auto px-6">
                 <div class="max-w-4xl mx-auto text-center">
                    <h3 class="text-3xl font-bold mb-8 section-title mx-auto">开发历程与路线图</h3>
                    <p class="text-gray-600 leading-relaxed mb-16">N2平台的建设是一个持续迭代、分阶段推进的宏大工程，其演进清晰地体现了从基础连接到智能赋能的战略路径。</p>
                 </div>
                 <div class="roadmap-container max-w-4xl mx-auto">
                    <div class="roadmap-item">
                        <div class="bg-white p-6 rounded-lg shadow-md border-l-4 border-blue-500">
                            <h4 class="font-bold text-xl mb-2 text-blue-800">阶段一：奠定基石 (2018-2020)</h4>
                            <p class="text-sm text-gray-600"><strong>目标：</strong> 打破信息孤岛，构建统一的数据与技术基础。</p>
                            <ul class="text-sm list-disc list-inside mt-2 space-y-1">
                                <li>迁移核心系统至云端 (Microsoft Azure)。</li>
                                <li>构建集团层面的统一数据湖。</li>
                                <li>发布第一版客户门户，提供基础的订单跟踪和文档下载功能。</li>
                            </ul>
                        </div>
                    </div>
                    <div class="roadmap-item">
                        <div class="bg-white p-6 rounded-lg shadow-md border-l-4 border-blue-500">
                             <h4 class="font-bold text-xl mb-2 text-blue-800">阶段二：整合智能 (2021-2023)</h4>
                            <p class="text-sm text-gray-600"><strong>目标：</strong> 纵向整合业务流程，引入数据智能。</p>
                             <ul class="text-sm list-disc list-inside mt-2 space-y-1">
                                <li>通过API连接主要的ERP和MES系统。</li>
                                <li>开发并部署第一批AI/ML模型，用于需求预测和供应链优化。</li>
                                <li>推出增强版客户门户，提供更丰富的自助服务功能。</li>
                            </ul>
                        </div>
                    </div>
                    <div class="roadmap-item">
                        <div class="bg-white p-6 rounded-lg shadow-md border-l-4 border-blue-500">
                             <h4 class="font-bold text-xl mb-2 text-blue-800">阶段三：生态协同 (2024至今)</h4>
                            <p class="text-sm text-gray-600"><strong>目标：</strong> 打造内外协同的生态系统，提供主动式服务。</p>
                             <ul class="text-sm list-disc list-inside mt-2 space-y-1">
                                <li>实现“即时可售库存”查询与在线交易。</li>
                                <li>基于数据洞察，进行主动式、个性化的产品营销。</li>
                                <li>通过API向主要客户和物流伙伴开放数据接口，实现生态系统级的协同。</li>
                            </ul>
                        </div>
                    </div>
                     <div class="roadmap-item">
                        <div class="bg-white p-6 rounded-lg shadow-md border-l-4 border-blue-500">
                             <h4 class="font-bold text-xl mb-2 text-blue-800">未来展望：迈向认知型企业</h4>
                            <p class="text-sm text-gray-600"><strong>目标：</strong> 实现更高阶的自动化与智能化决策。</p>
                             <ul class="text-sm list-disc list-inside mt-2 space-y-1">
                                <li>引入生成式AI，打造智能客服与销售助手。</li>
                                <li>将可持续性数据（如碳足迹）整合到平台中，为客户提供绿色钢铁解决方案。</li>
                                <li>构建“数字孪生”工厂，在虚拟世界中进行工艺优化和模拟。</li>
                            </ul>
                        </div>
                    </div>
                 </div>
            </div>
        </section>

        <section id="investment" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <div class="max-w-4xl mx-auto">
                    <h3 class="text-3xl font-bold mb-8 section-title">投入与团队：成功背后的组织保障</h3>
                    <div class="space-y-6 text-gray-700 leading-relaxed">
                        <p>N2平台的成功并非一蹴而就，背后是纽柯公司在资金和组织架构上的长期、坚定的战略投入。</p>
                        <ul class="list-none space-y-4">
                            <li>
                                <strong class="font-sans text-lg text-gray-900 block">▶ 战略性预算投入</strong>
                                <p>纽柯将N2平台视为对其未来核心竞争力的战略投资，而非一次性的IT项目。虽然具体金额未公开，但据行业分析，这是一个<strong>持续多年、总投入达数亿美元级别的长期计划</strong>。这笔预算不仅涵盖了技术采购和开发，更重要的是包含了大量的业务流程再造、员工培训和组织变革成本，体现了公司最高管理层推动数字化转型的决心。</p>
                            </li>
                             <li>
                                <strong class="font-sans text-lg text-gray-900 block">▶ 敏捷的混合团队模式</strong>
                                <p>为确保平台能真正解决业务问题，纽柯采用了创新的“中心化+嵌入式”混合团队模式：</p>
                                <ul class="list-disc list-inside space-y-2 pl-6 mt-2">
                                    <li><strong>中央平台团队：</strong> 一个设立在总部的核心技术团队，由顶级的云架构师、数据科学家、平台工程师和安全专家组成。他们负责制定整体技术战略，构建和维护平台的核心基础设施与共享服务（如统一身份认证、API网关等）。</li>
                                    <li><strong>嵌入式产品团队：</strong> 在各个主要的业务部门（如板材、棒材、结构钢等）内部，都设有一支或多支跨职能的敏捷产品团队。每个团队都像一个小型创业公司，由产品经理、软件工程师、UI/UX设计师以及来自该业务部门的销售、运营专家组成。他们直接向业务部门负责人汇报，负责开发和迭代与该业务紧密相关的特定平台功能，确保技术方案能迅速响应市场变化和一线需求。</li>
                                </ul>
                                <p class="mt-2">这种模式巧妙地结合了中央集权的战略一致性和去中心化的执行敏捷性，是纽柯将数字化创新与其独特的企业文化相结合的典范。</p>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section id="deep-dive" class="py-20">
            <div class="container mx-auto px-6">
                 <div class="max-w-4xl mx-auto text-center">
                    <h3 class="text-3xl font-bold mb-8 section-title mx-auto">平台深度解析</h3>
                    <p class="text-gray-600 leading-relaxed mb-10">N2平台的核心价值体现在其三大功能支柱上：客户体验中心、供应链协同和智能运营。这三者通过一个统一的技术架构紧密耦合，协同运作。</p>
                 </div>
                 <div class="max-w-7xl mx-auto space-y-20">
                     <div class="space-y-6">
                        <h4 class="text-2xl font-bold font-sans border-l-4 border-blue-500 pl-4">1. 客户体验中心：从交易到伙伴</h4>
                        <div class="mt-4 leading-relaxed text-gray-700 space-y-4">
                            <p><strong>功能介绍：</strong> N2的客户体验中心旨在为钢铁这个传统行业带来消费品级别的便捷与透明。它整合了纽柯旗下所有业务部门的产品目录和库存信息，为客户提供了一个“单一入口”，实现从产品发现、技术规格查询、实时库存与报价、在线下单、生产与物流跟踪，到质保书下载和财务对账的全周期自助服务。</p>
                            <p><strong>技术与架构：</strong> 该中心采用面向服务的微服务架构。前端使用React等现代化框架构建，确保流畅的响应式体验。后端则由一系列独立的微服务构成（如产品目录服务、订单管理服务、客户账户服务等），这些服务通过API网关与内部的ERP、CRM和PIM（产品信息管理）系统进行安全、高效的数据交换。这种松耦合的架构确保了平台的稳定性和可扩展性，可以为不同类型的客户（如大型工程公司或小型加工厂）快速定制不同的功能模块。</p>
                        </div>
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start mt-8">
                            <div class="ui-mockup-container">
                                <div class="ui-mockup-window">
                                    <div class="ui-mockup-header"><div class="ui-mockup-dot bg-red-400"></div><div class="ui-mockup-dot bg-yellow-400"></div><div class="ui-mockup-dot bg-green-400"></div></div>
                                    <div class="ui-mockup-content-area">
                                        <div class="ui-mockup-sidebar text-xs">
                                            <a href="#" class="active">Dashboard</a>
                                            <a href="#">Orders</a>
                                            <a href="#">Shipments</a>
                                            <a href="#">Invoices</a>
                                            <a href="#">Quality Center</a>
                                            <a href="#">Products</a>
                                        </div>
                                        <div class="ui-mockup-body">
                                            <h5 class="font-bold text-lg text-gray-800 mb-4">Customer Dashboard</h5>
                                            <div class="grid grid-cols-3 gap-4 mb-6">
                                                 <div class="bg-white p-3 rounded-lg border text-center"><div class="font-bold text-blue-600 text-2xl">5</div><div class="text-xs text-gray-500">Active Orders</div></div>
                                                 <div class="bg-white p-3 rounded-lg border text-center"><div class="font-bold text-gray-800 text-2xl">3</div><div class="text-xs text-gray-500">Pending Invoices</div></div>
                                                 <div class="bg-white p-3 rounded-lg border text-center"><div class="font-bold text-green-600 text-2xl">12</div><div class="text-xs text-gray-500">Shipments Delivered</div></div>
                                            </div>
                                            <h6 class="font-bold text-sm text-gray-600 mb-2">Recent Orders</h6>
                                            <table class="ui-table">
                                                <thead><tr><th>PO #</th><th>Status</th><th>Est. Delivery</th><th>Action</th></tr></thead>
                                                <tbody>
                                                    <tr><td>88623</td><td><span class="ui-status bg-yellow-100 text-yellow-800"><span class="status-dot bg-yellow-500"></span>In Production</span></td><td>09/25/2025</td><td><a href="#" class="text-blue-600 text-xs">Track</a></td></tr>
                                                    <tr><td>88590</td><td><span class="ui-status bg-blue-100 text-blue-800"><span class="status-dot bg-blue-500"></span>In Transit</span></td><td>09/12/2025</td><td><a href="#" class="text-blue-600 text-xs">Track</a></td></tr>
                                                    <tr><td>88431</td><td><span class="ui-status bg-green-100 text-green-800"><span class="status-dot bg-green-500"></span>Delivered</span></td><td>09/02/2025</td><td><a href="#" class="text-blue-600 text-xs">Details</a></td></tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="ui-mockup-container">
                                <div class="ui-mockup-window">
                                    <div class="ui-mockup-header"><div class="ui-mockup-dot bg-red-400"></div><div class="ui-mockup-dot bg-yellow-400"></div><div class="ui-mockup-dot bg-green-400"></div></div>
                                    <div class="ui-mockup-content-area">
                                        <div class="ui-mockup-sidebar text-xs">
                                            <a href="#">Dashboard</a>
                                            <a href="#">Orders</a>
                                            <a href="#">Shipments</a>
                                            <a href="#">Invoices</a>
                                            <a href="#" class="active">Quality Center</a>
                                            <a href="#">Products</a>
                                        </div>
                                        <div class="ui-mockup-body">
                                            <h5 class="font-bold text-lg text-gray-800 mb-6">Quality Assurance Center</h5>
                                            <div class="flex gap-2 mb-4">
                                                <input type="text" placeholder="Search by Heat # or PO #" class="w-full text-sm border-gray-300 rounded-md p-2">
                                                <button class="bg-blue-600 text-white px-4 py-2 rounded-md text-sm">Search</button>
                                            </div>
                                            <h6 class="font-bold text-sm text-gray-600 mb-2">Results for PO #88431</h6>
                                             <table class="ui-table">
                                                <thead><tr><th>Heat #</th><th>Product</th><th>Yield (ksi)</th><th>Certificate</th></tr></thead>
                                                <tbody>
                                                    <tr><td>H5A112</td><td>W8x31 Beam</td><td class="text-green-600">52.5</td><td><a href="#" class="text-blue-600 text-xs">Download MTR</a></td></tr>
                                                    <tr><td>H5A113</td><td>W8x31 Beam</td><td class="text-green-600">53.1</td><td><a href="#" class="text-blue-600 text-xs">Download MTR</a></td></tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                     </div>
                     <div class="space-y-6">
                        <h4 class="text-2xl font-bold font-sans border-l-4 border-blue-500 pl-4">2. 供应链协同：追求极致效率</h4>
                        <div class="mt-4 leading-relaxed text-gray-700 space-y-4">
                            <p><strong>功能介绍：</strong> N2旨在打造一个透明、敏捷、有韧性的供应链，核心是数据驱动的协同决策。它整合了从废钢采购、跨区域库存、生产计划到物流运输的端到端数据流，实现了前所未有的全程可视性。平台能够进行集团级的需求预测，并基于此进行智能化的库存调配和生产规划，最大限度地减少缺料或库存积压的风险。</p>
                            <p><strong>技术与架构：</strong> 这是一个典型的事件驱动架构。部署在废钢场、运输车辆和工厂的IoT传感器（GPS、载重、图像识别）通过边缘计算网关，将实时数据作为“事件”发布到云端的Azure Event Hubs。这些事件流被Azure Stream Analytics等服务实时处理，更新数据湖中的供应链状态。上层的AI/ML模型（如基于LSTM网络的时间序列预测模型）持续分析这些数据，生成预测和优化建议。当系统预测到某个工厂可能出现原料短缺时，会自动触发警报，并向供应链计划员推荐从其他区域调拨或紧急采购的最优方案。</p>
                        </div>
                         <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start mt-8">
                             <div class="ui-mockup-container">
                                <div class="ui-mockup-window">
                                    <div class="ui-mockup-header"><div class="ui-mockup-dot bg-red-400"></div><div class="ui-mockup-dot bg-yellow-400"></div><div class="ui-mockup-dot bg-green-400"></div></div>
                                    <div class="ui-mockup-body">
                                        <h5 class="font-bold text-lg text-gray-800 mb-6">Logistics Command Center</h5>
                                        <div class="grid grid-cols-2 gap-4 mb-4">
                                            <div class="bg-white p-3 rounded-lg border text-center"><div class="font-bold text-gray-800 text-xl">124</div><div class="text-xs text-gray-500">Trucks In-Transit</div></div>
                                            <div class="bg-white p-3 rounded-lg border text-center"><div class="font-bold text-green-600 text-xl">98.2%</div><div class="text-xs text-gray-500">On-Time Delivery (YTD)</div></div>
                                        </div>
                                        <h6 class="font-bold text-sm text-gray-600 mb-2">Live Shipments</h6>
                                        <div class="space-y-3 text-xs">
                                            <div class="p-2 border rounded-md"><strong>Truck 781 → ABC Const.</strong><br>Status: On Schedule, ETA: 2 hrs</div>
                                            <div class="p-2 border rounded-md bg-yellow-50 border-yellow-200"><strong>Truck 455 → XYZ Fab.</strong><br>Status: Delayed (Weather), New ETA: 5 hrs</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                             <div class="ui-mockup-container">
                                <div class="ui-mockup-window">
                                    <div class="ui-mockup-header"><div class="ui-mockup-dot bg-red-400"></div><div class="ui-mockup-dot bg-yellow-400"></div><div class="ui-mockup-dot bg-green-400"></div></div>
                                    <div class="ui-mockup-body">
                                        <h5 class="font-bold text-lg text-gray-800 mb-6">Available to Promise: Live Inventory</h5>
                                        <div class="flex gap-2 mb-4">
                                            <select class="w-full text-sm border-gray-300 rounded-md p-2"><option>Product: Angle</option></select>
                                            <select class="w-full text-sm border-gray-300 rounded-md p-2"><option>Grade: A36</option></select>
                                        </div>
                                         <table class="ui-table">
                                            <thead><tr><th>Size</th><th>Location</th><th>Available (tons)</th></tr></thead>
                                            <tbody>
                                                <tr><td>3x3x1/4</td><td>Nucor Berkeley</td><td class="text-green-600 font-bold">120</td></tr>
                                                <tr><td>3x3x1/4</td><td>Nucor Texas</td><td class="text-green-600 font-bold">85</td></tr>
                                                <tr><td>4x4x3/8</td><td>Nucor Berkeley</td><td class="text-yellow-600 font-bold">25</td></tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                     </div>
                     <div class="space-y-6">
                         <h4 class="text-2xl font-bold font-sans border-l-4 border-blue-500 pl-4">3. 智能运营：赋能一线决策</h4>
                         <div class="mt-4 leading-relaxed text-gray-700 space-y-4">
                            <p><strong>功能介绍：</strong> N2将数据分析能力直接赋予工厂的一线操作员和工程师，将经验驱动的决策转变为数据驱动的科学优化。其核心功能包括基于AI的工艺参数推荐（如电弧炉“熔炼配方”优化）、关键设备（如轧机、起重机）的预测性维护、基于计算机视觉的表面缺陷自动检测，以及对生产过程中的能耗和碳排放进行实时监控与优化。</p>
                            <p><strong>技术与架构：</strong> 这是典型的工业物联网（IIoT）分层架构。**边缘层**：在工厂部署的PLC和SCADA系统通过OPC-UA等协议，将高频的设备数据传送给边缘计算网关。网关上运行着轻量级的AI模型，进行实时异常检测和快速响应。**平台层（云端）**：经过边缘处理的数据被传送到云端的Azure IoT Hub，并存入时间序列数据库（如Azure Data Explorer）。Azure Machine Learning Studio被用于训练更复杂的深度学习模型（如用于预测性维护的LSTM模型和用于视觉检测的CNN模型）。**应用层**：训练好的模型被部署到边缘或云端，并通过N2平台的操作仪表板，以直观的可视化和明确的行动建议，呈现给一线团队。</p>
                        </div>
                         <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start mt-8">
                             <div class="ui-mockup-container">
                                <div class="ui-mockup-window">
                                    <div class="ui-mockup-header"><div class="ui-mockup-dot bg-red-400"></div><div class="ui-mockup-dot bg-yellow-400"></div><div class="ui-mockup-dot bg-green-400"></div></div>
                                    <div class="ui-mockup-body">
                                        <h5 class="font-bold text-lg text-gray-800 mb-6">Melt Shop AI Co-Pilot - EAF #2</h5>
                                        <div class="grid grid-cols-3 gap-4 mb-4">
                                            <div class="bg-white p-2 rounded-lg border text-center"><div class="font-bold text-gray-800 text-xl">1720°C</div><div class="text-xs text-gray-500">Temp</div></div>
                                            <div class="bg-white p-2 rounded-lg border text-center"><div class="font-bold text-gray-800 text-xl">115 MW</div><div class="text-xs text-gray-500">Power</div></div>
                                            <div class="bg-white p-2 rounded-lg border text-center"><div class="font-bold text-green-600 text-xl">98.7%</div><div class="text-xs text-gray-500">Efficiency</div></div>
                                        </div>
                                        <div class="p-4 rounded-lg bg-blue-50 border border-blue-200">
                                            <h6 class="font-bold text-sm text-blue-800 mb-2">AI Recommendation for Heat #58B:</h6>
                                            <p class="text-xs text-blue-700">Based on current scrap mix, increase DRI charge by 5% and adjust electrode power curve to Pattern C to stabilize chemistry. Projected savings: $1,200.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="ui-mockup-container">
                                <div class="ui-mockup-window">
                                    <div class="ui-mockup-header"><div class="ui-mockup-dot bg-red-400"></div><div class="ui-mockup-dot bg-yellow-400"></div><div class="ui-mockup-dot bg-green-400"></div></div>
                                    <div class="ui-mockup-body">
                                         <h5 class="font-bold text-lg text-gray-800 mb-6">Sustainability Dashboard - YTD</h5>
                                         <div class="space-y-4">
                                             <div>
                                                <div class="flex justify-between text-sm mb-1"><span class="font-semibold">Recycled Content</span><span class="text-green-600 font-bold">97.4%</span></div>
                                                <div class="w-full bg-gray-200 rounded-full h-2.5"><div class="bg-green-500 h-2.5 rounded-full" style="width: 97.4%"></div></div>
                                             </div>
                                              <div>
                                                <div class="flex justify-between text-sm mb-1"><span class="font-semibold">GHG Avoidance (vs BF-BOF)</span><span class="text-blue-600 font-bold">71%</span></div>
                                                <div class="w-full bg-gray-200 rounded-full h-2.5"><div class="bg-blue-500 h-2.5 rounded-full" style="width: 71%"></div></div>
                                             </div>
                                              <div class="text-center mt-6">
                                                    <div class="font-bold text-gray-600 text-sm">Your Total CO₂e Saved</div>
                                                    <p class="text-3xl font-bold text-green-600">1,450 tons</p>
                                                    <a href="#" class="text-xs text-blue-600 mt-1">Download ESG Report</a>
                                              </div>
                                         </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                     </div>
                 </div>
            </div>
        </section>
        
        <section id="simulation" class="py-20 bg-white">
             <div class="container mx-auto px-6">
                <div class="max-w-4xl mx-auto text-center">
                    <h3 class="text-3xl font-bold mb-8 section-title mx-auto">N2平台模拟仿真中心</h3>
                    <p class="text-gray-600 leading-relaxed mb-10">欢迎来到N2平台交互式模拟中心。在这里，您可以通过运行一系列真实的业务场景，亲身体验N2平台如何为客户、供应链和工厂运营带来革命性的效率提升。请在下方选择一个您感兴趣的场景开始仿真。</p>
                </div>
                <div class="simulation-container max-w-7xl mx-auto">
                    <div class="sim-tabs flex border-b border-gray-200 overflow-x-auto">
                    </div>
                    <div id="simulation-content-area">
                    </div>
                </div>
             </div>
        </section>


    </main>

    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-6 text-center">
            <p>&copy; 2025 Nucor N2 Platform Analysis. All Rights Reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // ... (header, nav, observer setup code remains unchanged) ...
            const header = document.getElementById('header');
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('main section');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');

            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.getAttribute('id');
                        navLinks.forEach(link => {
                            link.classList.toggle('active', link.getAttribute('href').substring(1) === id);
                        });
                    }
                });
            }, { rootMargin: '-20% 0px -80% 0px' });

            sections.forEach(section => {
                observer.observe(section);
            });
            
            const simTabsContainer = document.querySelector('.sim-tabs');
            const simContentArea = document.getElementById('simulation-content-area');
            let activeScenarioId = 1;

            const scenarios = [
                { id: 1, title: '客户便捷下单' }, { id: 2, title: '订单变更协同' }, { id: 3, title: '客户360视图' },
                { id: 4, title: '供需计划全景' }, { id: 5, title: '紧急插单模拟' }
            ];

            const simulationEngine = {
                state: {},
                log: function(scenarioId, type, message) {
                    const logEl = document.getElementById(`sim-log-${scenarioId}`);
                    if (!logEl) return;
                    const timestamp = new Date().toLocaleTimeString();
                    const entry = document.createElement('div');
                    entry.className = 'sim-log-entry';
                    entry.innerHTML = `<span class="timestamp">[${timestamp}]</span> <span class="${type}">${message}</span>`;
                    logEl.appendChild(entry);
                    logEl.scrollTop = logEl.scrollHeight;
                },
                
                initScenario1: function() { const scenarioId = 1; this.state[scenarioId] = { step: 0, order: { product: 'W8x31 Beam', quantity: 100, price: 0, deliveryDate: '', id: '', status: 'New' } }; document.getElementById(`sim-desc-${scenarioId}`).textContent = '模拟客户ABC Construction通过N2门户网站，实时查询库存、获取报价并下单购买100吨W8x31型钢的过程。系统将自动确认订单并提供预计交付日期，客户可实时追踪订单从生产到交付的全过程。'; const controls = document.getElementById(`sim-controls-${scenarioId}`); controls.innerHTML = `<button id="s1-step1" class="ui-button ui-button-primary w-full mb-2">1. 查询库存与报价</button><button id="s1-step2" class="ui-button ui-button-primary w-full mb-2" disabled>2. 提交订单</button><button id="s1-step3" class="ui-button ui-button-primary w-full" disabled>3. 模拟生产与发货</button>`; document.getElementById(`sim-ui-${scenarioId}`).innerHTML = `<div class="p-6 bg-white rounded-lg"><h3 class="font-bold text-lg mb-4">New Order Request</h3><div class="grid grid-cols-2 gap-4"><div><label class="text-xs font-semibold">Product</label><input type="text" value="W8x31 Beam" class="w-full p-2 border rounded bg-gray-100" readonly></div><div><label class="text-xs font-semibold">Quantity (tons)</label><input type="text" value="100" class="w-full p-2 border rounded bg-gray-100" readonly></div></div><div id="s1-quote-result" class="mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg text-sm hidden"></div><div id="s1-order-confirmation" class="mt-4 hidden"></div></div>`; const logEl = document.getElementById(`sim-log-${scenarioId}`); if(logEl) logEl.innerHTML = ''; this.log(scenarioId, 'system', `场景1：客户便捷下单已初始化。`); document.getElementById('s1-step1').addEventListener('click', () => this.runScenario1Step1()); document.getElementById('s1-step2').addEventListener('click', () => this.runScenario1Step2()); document.getElementById('s1-step3').addEventListener('click', () => this.runScenario1Step3()); },
                runScenario1Step1: function() { const scenarioId = 1; this.log(scenarioId, 'system', "正在查询 'W8x31 Beam' 实时库存..."); setTimeout(() => { this.state[scenarioId].order.price = 950; this.state[scenarioId].order.deliveryDate = '2025-10-15'; const quoteResult = document.getElementById('s1-quote-result'); quoteResult.innerHTML = `<div class="font-bold text-green-600 mb-2">✓ Inventory Available</div><div><strong>Available Quantity:</strong> 180 tons</div><div><strong>Unit Price:</strong> $950 / ton</div><div><strong>Total Price:</strong> $95,000</div><div><strong>Estimated Delivery:</strong> ${this.state[scenarioId].order.deliveryDate}</div>`; quoteResult.classList.remove('hidden'); this.log(scenarioId, 'success', `库存充足 (180吨)。报价已生成。`); document.getElementById('s1-step1').disabled = true; document.getElementById('s1-step2').disabled = false; }, 1000); },
                runScenario1Step2: function() { const scenarioId = 1; this.state[scenarioId].order.id = `PO-${Date.now().toString().slice(-6)}`; this.log(scenarioId, 'system', `正在提交订单 ${this.state[scenarioId].order.id}...`); setTimeout(() => { this.state[scenarioId].order.status = 'Confirmed'; const confirmation = document.getElementById('s1-order-confirmation'); confirmation.innerHTML = `<div class="p-4 bg-green-50 border border-green-200 rounded-lg text-center"><h4 class="font-bold text-green-700 text-lg">Order Confirmed!</h4><p class="text-sm"><strong>Order ID:</strong> ${this.state[scenarioId].order.id}</p><p class="text-sm"><strong>Status:</strong> ${this.state[scenarioId].order.status}</p></div><div id="s1-tracking" class="mt-4 text-xs space-y-2 p-4 border rounded-lg bg-gray-50"></div>`; confirmation.classList.remove('hidden'); this.log(scenarioId, 'success', `订单 ${this.state[scenarioId].order.id} 已确认。状态：等待排产。`); document.getElementById('s1-step2').disabled = true; document.getElementById('s1-step3').disabled = false; }, 1000); },
                runScenario1Step3: function() { const scenarioId = 1; this.log(scenarioId, 'system', `开始模拟订单 ${this.state[scenarioId].order.id} 的生产与物流过程...`); document.getElementById('s1-step3').disabled = true; const trackingEl = document.getElementById('s1-tracking'); trackingEl.innerHTML = ''; const statuses = ['In Production', 'Rolling', 'Quality Check', 'Ready for Shipment', 'In Transit', 'Delivered']; let i = 0; const interval = setInterval(() => { if (i >= statuses.length) { clearInterval(interval); this.log(scenarioId, 'success', `订单 ${this.state[scenarioId].order.id} 模拟完成。`); return; } const status = statuses[i]; this.state[scenarioId].order.status = status; const logEntry = document.createElement('p'); logEntry.innerHTML = `<strong>${new Date().toLocaleTimeString()}:</strong> Order status updated to <span class="font-bold text-blue-600">${status}</span>`; trackingEl.appendChild(logEntry); this.log(scenarioId, 'system', `订单状态更新: ${status}`); i++; }, 800); },

                initScenario2: function() { const scenarioId = 2; this.state[scenarioId] = { order: { id: 'PO-88623', product: 'W8x31 Beam', quantity: 100, value: 95000, status: 'In Production', deliveryDate: '2025-10-15' }, changeRequest: { newQuantity: 120 }, impact: null }; document.getElementById(`sim-desc-${scenarioId}`).textContent = '模拟客户对一个已处于“生产中”状态的订单发起数量变更请求。N2平台将自动评估此变更对成本和交期的影响，并将结果反馈给客户进行确认，最终协同各部门执行变更。'; const controls = document.getElementById(`sim-controls-${scenarioId}`); controls.innerHTML = `<button id="s2-step1" class="ui-button ui-button-primary w-full mb-2">1. 提交变更请求</button><button id="s2-step2" class="ui-button ui-button-primary w-full" disabled>2. 批准变更与成本</button>`; this.renderScenario2UI(); const logEl = document.getElementById(`sim-log-${scenarioId}`); if(logEl) logEl.innerHTML = ''; this.log(scenarioId, 'system', `场景2：订单变更协同已初始化。`); document.getElementById('s2-step1').addEventListener('click', () => this.runScenario2Step1()); document.getElementById('s2-step2').addEventListener('click', () => this.runScenario2Step2()); },
                renderScenario2UI: function() { const scenarioId = 2; const order = this.state[scenarioId].order; const impact = this.state[scenarioId].impact; const ui = document.getElementById(`sim-ui-${scenarioId}`); let impactHtml = ''; if (impact) { impactHtml = `<div class="mt-4 p-4 bg-yellow-50 border-l-4 border-yellow-400"><h4 class="font-bold text-yellow-800">Change Impact Assessment</h4><ul class="text-sm mt-2 space-y-1"><li><strong>New Quantity:</strong> ${impact.newQuantity} tons <span class="text-green-600">(+${impact.newQuantity - order.quantity} tons)</span></li><li><strong>Additional Cost:</strong> $${impact.additionalCost.toLocaleString()}</li><li><strong>New Total Cost:</strong> $${impact.newTotalValue.toLocaleString()}</li><li><strong>New Delivery Date:</strong> ${impact.newDeliveryDate} <span class="text-red-600">(+${impact.delayDays} days)</span></li></ul></div>`; } ui.innerHTML = `<div class="p-6 bg-white rounded-lg"><h3 class="font-bold text-lg mb-4">Order Details: ${order.id}</h3><div class="grid grid-cols-2 gap-4 text-sm mb-6"><div><strong>Product:</strong> <span id="s2-product">${order.product}</span></div><div><strong>Quantity:</strong> <span id="s2-quantity">${order.quantity}</span> tons</div><div><strong>Value:</strong> $<span id="s2-value">${order.value.toLocaleString()}</span></div><div><strong>Delivery:</strong> <span id="s2-delivery">${order.deliveryDate}</span></div><div class="col-span-2"><strong>Status:</strong> <span id="s2-status" class="ui-status bg-yellow-100 text-yellow-800"><span class="status-dot bg-yellow-500"></span>${order.status}</span></div></div><div class="border-t pt-4"><h4 class="font-semibold mb-2">Request Change</h4><div class="flex items-center gap-4"><label class="text-sm">New Quantity (tons):</label><input type="number" id="s2-new-quantity" value="${this.state[scenarioId].changeRequest.newQuantity}" class="p-2 border rounded w-32"></div>${impactHtml}</div></div>`; },
                runScenario2Step1: function() { const scenarioId = 2; this.log(scenarioId, 'system', `收到订单 ${this.state[scenarioId].order.id} 的变更请求...`); this.log(scenarioId, 'system', `开始自动评估对生产、物料和物流的影响...`); document.getElementById('s2-step1').disabled = true; setTimeout(() => { const originalOrder = this.state[scenarioId].order; const changeRequest = this.state[scenarioId].changeRequest; changeRequest.newQuantity = parseInt(document.getElementById('s2-new-quantity').value, 10); this.state[scenarioId].impact = { newQuantity: changeRequest.newQuantity, additionalCost: (changeRequest.newQuantity - originalOrder.quantity) * 950 + 500, newTotalValue: originalOrder.value + (changeRequest.newQuantity - originalOrder.quantity) * 950 + 500, newDeliveryDate: '2025-10-17', delayDays: 2 }; this.log(scenarioId, 'warning', `影响评估完成：成本增加 $${this.state[scenarioId].impact.additionalCost.toLocaleString()}，交期延迟 ${this.state[scenarioId].impact.delayDays} 天。`); this.renderScenario2UI(); document.getElementById('s2-step2').disabled = false; }, 1500); },
                runScenario2Step2: function() { const scenarioId = 2; this.log(scenarioId, 'system', `客户已批准变更。开始执行订单更新流程...`); document.getElementById('s2-step2').disabled = true; const impact = this.state[scenarioId].impact; const order = this.state[scenarioId].order; const updates = [ () => this.log(scenarioId, 'system', `正在更新ERP系统中的订单 ${order.id}...`), () => { order.quantity = impact.newQuantity; order.value = impact.newTotalValue; order.deliveryDate = impact.newDeliveryDate; order.status = 'In Production (Modified)'; this.renderScenario2UI(); this.log(scenarioId, 'success', 'ERP更新成功。'), this.log(scenarioId, 'system', '正在通知生产计划和采购部门...') }, () => this.log(scenarioId, 'success', '生产计划已调整，额外物料已采购。'), () => this.log(scenarioId, 'success', `订单 ${order.id} 变更流程完成。`) ]; let i = 0; const interval = setInterval(() => { if (i >= updates.length) { clearInterval(interval); return; } updates[i](); i++; }, 800); },
                
                initScenario3: function() { const scenarioId = 3; this.state[scenarioId] = {}; document.getElementById(`sim-desc-${scenarioId}`).textContent = '模拟销售经理在拜访客户“ABC Construction”前，通过N2平台的客户360视图，全面了解客户信息。平台通过API实时从ERP、CRM和财务系统拉取数据，并整合成一个统一的仪表板。'; document.getElementById(`sim-controls-${scenarioId}`).innerHTML = `<button id="s3-step1" class="ui-button ui-button-primary w-full mb-2">1. 加载客户数据</button>`; document.getElementById(`sim-ui-${scenarioId}`).innerHTML = `<div class="p-6 text-center text-gray-500 h-full flex items-center justify-center">请点击“加载客户数据”开始模拟。</div>`; const logEl = document.getElementById(`sim-log-${scenarioId}`); if(logEl) logEl.innerHTML = ''; this.log(scenarioId, 'system', `场景3：客户360视图已初始化。`); document.getElementById('s3-step1').addEventListener('click', () => this.runScenario3Step1()); },
                runScenario3Step1: function() { const scenarioId = 3; this.log(scenarioId, 'system', `正在从多个系统拉取客户 'ABC Construction' 的数据...`); document.getElementById('s3-step1').disabled = true; setTimeout(() => this.log(scenarioId, 'system', `[API Call] 正在连接CRM系统...`), 200); setTimeout(() => this.log(scenarioId, 'success', `[API Call] CRM数据（商机）已获取。`), 600); setTimeout(() => this.log(scenarioId, 'system', `[API Call] 正在连接ERP系统...`), 700); setTimeout(() => this.log(scenarioId, 'success', `[API Call] ERP数据（订单历史）已获取。`), 1100); setTimeout(() => this.log(scenarioId, 'system', `[API Call] 正在连接财务系统...`), 1200); setTimeout(() => { this.log(scenarioId, 'success', `[API Call] 财务数据（信用）已获取。`); this.log(scenarioId, 'success', `客户360视图已生成。`); this.renderScenario3UI(); document.getElementById('s3-step1').disabled = false; }, 1500); },
                renderScenario3UI: function() { const scenarioId = 3; const customer = { name: 'ABC Construction', id: 'CUST-001', industry: 'Commercial Construction', accountManager: 'Sarah Jenkins', creditLimit: 2000000, currentBalance: 875320, creditScore: 'A+', ytdSales: 1350000, lifetimeValue: 8750000, recentOrders: [ {id: 'PO-88431', status: 'Delivered', value: 320000}, {id: 'PO-88590', status: 'In Transit', value: 180500}, {id: 'PO-88623', status: 'In Production', value: 250120}, ], opportunities: [ {name: 'Downtown Tower Project', stage: 'Quoting', value: 500000}, {name: 'Highway 5 Bridge', stage: 'Negotiation', value: 1200000}, ], productMix: { 'Beams': 65, 'Plates': 25, 'Bars': 10 } }; const ui = document.getElementById(`sim-ui-${scenarioId}`); const ordersHtml = customer.recentOrders.map(o => `<tr><td>${o.id}</td><td>${o.status}</td><td>$${o.value.toLocaleString()}</td></tr>`).join(''); const opportunitiesHtml = customer.opportunities.map(o => `<tr><td>${o.name}</td><td>${o.stage}</td><td>$${o.value.toLocaleString()}</td></tr>`).join(''); const productMixHtml = Object.entries(customer.productMix).map(([p, v]) => `<div><div class="flex justify-between text-xs mb-1"><span class="font-semibold">${p}</span><span>${v}%</span></div><div class="chart-bar-bg"><div class="chart-bar" style="width: ${v}%"></div></div></div>`).join(''); ui.innerHTML = `<div class="p-6 bg-white"><div class="flex justify-between items-start mb-6"><div><h3 class="font-bold text-xl">${customer.name}</h3><p class="text-sm text-gray-500">${customer.industry}</p></div><div class="text-right text-sm"><p><strong>Credit Score:</strong> <span class="font-bold text-green-600">${customer.creditScore}</span></p><p><strong>Account Manager:</strong> ${customer.accountManager}</p></div></div><div class="grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6"><div class="ui-kpi-card text-center"><div class="text-xs font-bold text-gray-500">YTD Sales</div><div class="font-extrabold text-gray-800 text-2xl mt-1">$${(customer.ytdSales/1000000).toFixed(2)}M</div></div><div class="ui-kpi-card text-center"><div class="text-xs font-bold text-gray-500">Lifetime Value</div><div class="font-extrabold text-gray-800 text-2xl mt-1">$${(customer.lifetimeValue/1000000).toFixed(2)}M</div></div><div class="ui-kpi-card text-center"><div class="text-xs font-bold text-gray-500">Credit Limit</div><div class="font-extrabold text-gray-800 text-2xl mt-1">$${(customer.creditLimit/1000000).toFixed(2)}M</div></div><div class="ui-kpi-card text-center"><div class="text-xs font-bold text-gray-500">Balance</div><div class="font-extrabold text-red-600 text-2xl mt-1">$${(customer.currentBalance/1000).toFixed(1)}K</div></div></div><div class="grid grid-cols-1 lg:grid-cols-2 gap-6"><div><h4 class="font-bold text-sm mb-2">Open Opportunities (from CRM)</h4><div class="border rounded-lg overflow-hidden"><table class="ui-table"><thead><tr><th>Name</th><th>Stage</th><th>Value</th></tr></thead><tbody>${opportunitiesHtml}</tbody></table></div></div><div><h4 class="font-bold text-sm mb-2">Recent Orders (from ERP)</h4><div class="border rounded-lg overflow-hidden"><table class="ui-table"><thead><tr><th>PO #</th><th>Status</th><th>Value</th></tr></thead><tbody>${ordersHtml}</tbody></table></div></div></div><div class="mt-6"><h4 class="font-bold text-sm mb-2">Product Usage Profile</h4><div class="space-y-3">${productMixHtml}</div></div></div>`; },
                initScenario4: function() { const scenarioId = 4; this.state[scenarioId] = { product: 'W8x31 Beam', weeks: [1, 2, 3, 4], demand: { forecast: 100, orders: 80 }, supply: { inventory: 150, inProduction: 200, rawMaterial: 500 } }; document.getElementById(`sim-desc-${scenarioId}`).textContent = '模拟生产计划员查看核心产品“W8x31 Beam”未来4周的供需全景。仪表板整合了销售预测、在手订单、成品库存、在制库存和原材料库存，自动计算并预警潜在的供应缺口。'; const controls = document.getElementById(`sim-controls-${scenarioId}`); controls.innerHTML = `<button id="s4-step1" class="ui-button ui-button-primary w-full mb-2">1. 运行周度计划模拟</button>`; this.renderScenario4UI(); const logEl = document.getElementById(`sim-log-${scenarioId}`); if(logEl) logEl.innerHTML = ''; this.log(scenarioId, 'system', `场景4：供需计划全景已初始化。`); document.getElementById('s4-step1').addEventListener('click', () => this.runScenario4Step1()); },
                renderScenario4UI: function() { const scenarioId = 4; const state = this.state[scenarioId]; const ui = document.getElementById(`sim-ui-${scenarioId}`); const totalDemand = state.demand.forecast + state.demand.orders; const totalSupply = state.supply.inventory + state.supply.inProduction; const netBalance = totalSupply - totalDemand; const balanceColor = netBalance >= 0 ? 'text-green-600' : 'text-red-600'; ui.innerHTML = `<div class="p-6 bg-white"><h3 class="font-bold text-lg mb-4">Supply & Demand Plan: ${state.product}</h3><div class="grid grid-cols-3 gap-4 mb-6"><div class="ui-kpi-card text-center"><div class="text-xs font-bold text-gray-500">Total Demand</div><div class="font-extrabold text-red-600 text-3xl mt-1">${totalDemand} t</div></div><div class="ui-kpi-card text-center"><div class="text-xs font-bold text-gray-500">Total Supply</div><div class="font-extrabold text-green-600 text-3xl mt-1">${totalSupply} t</div></div><div class="ui-kpi-card text-center"><div class="text-xs font-bold text-gray-500">Net Balance</div><div class="font-extrabold ${balanceColor} text-3xl mt-1">${netBalance} t</div></div></div><div class="border rounded-lg overflow-hidden"><table class="ui-table"><thead><tr><th>Metric</th><th>Current</th><th>Alert</th></tr></thead><tbody><tr><td class="font-semibold">Demand Forecast</td><td>${state.demand.forecast} t</td><td>-</td></tr><tr><td class="font-semibold">Confirmed Orders</td><td>${state.demand.orders} t</td><td>-</td></tr><tr class="bg-gray-50"><td class="font-bold">Total Demand</td><td class="font-bold">${totalDemand} t</td><td>-</td></tr><tr><td class="font-semibold">Finished Inventory</td><td>${state.supply.inventory} t</td><td class="${state.supply.inventory < 50 ? 'text-red-600 font-bold' : ''}">${state.supply.inventory < 50 ? 'LOW' : 'OK'}</td></tr><tr><td class="font-semibold">In Production (WIP)</td><td>${state.supply.inProduction} t</td><td>-</td></tr><tr class="bg-gray-50"><td class="font-bold">Total Supply</td><td class="font-bold">${totalSupply} t</td><td>-</td></tr><tr><td class="font-semibold">Raw Material (Scrap)</td><td>${state.supply.rawMaterial} t</td><td>-</td></tr></tbody></table></div></div>`; },
                runScenario4Step1: function() { const scenarioId = 4; this.log(scenarioId, 'system', `模拟一周业务运行...`); document.getElementById('s4-step1').disabled = true; setTimeout(() => { const state = this.state[scenarioId]; const shipped = 70, produced = 50, consumedRaw = 80, newOrders = 30; state.supply.inventory = state.supply.inventory - shipped + produced; state.demand.orders += newOrders; state.supply.inProduction -= produced; state.supply.rawMaterial -= consumedRaw; this.log(scenarioId, 'system', `本周发货: ${shipped}t, 完工入库: ${produced}t, 新增订单: ${newOrders}t`); this.renderScenario4UI(); const netBalance = state.supply.inventory + state.supply.inProduction - (state.demand.forecast + state.demand.orders); if (netBalance < 0) { this.log(scenarioId, 'error', `警告：出现供应缺口！净余量为 ${netBalance} 吨。`); } else if (state.supply.inventory < 50) { this.log(scenarioId, 'warning', `警告：成品库存水平过低！`); } else { this.log(scenarioId, 'success', `供需平衡，系统稳定。`); } document.getElementById('s4-step1').disabled = false; }, 1500); },
                initScenario5: function() { const scenarioId = 5; this.state[scenarioId] = { schedule: [ { id: 'PO-910', customer: 'Cust A', start: 0, end: 20, class: 'original' }, { id: 'PO-911', customer: 'Cust B', start: 20, end: 50, class: 'original' }, { id: 'PO-912', customer: 'Cust C', start: 50, end: 100, class: 'original' }, ], rushOrder: { id: 'PO-RUSH', customer: 'VIP Cust', duration: 15, class: 'rush'}, impact: null }; document.getElementById(`sim-desc-${scenarioId}`).textContent = '模拟在产线满负荷的情况下，一个VIP客户提出紧急插单请求。N2平台将自动运行影响分析，在生产甘特图上可视化新旧方案，并计算出对其他订单的延期影响和自身的加急成本。'; const controls = document.getElementById(`sim-controls-${scenarioId}`); controls.innerHTML = `<button id="s5-step1" class="ui-button ui-button-primary w-full mb-2">1. 运行影响分析</button><button id="s5-step2" class="ui-button ui-button-primary w-full" disabled>2. 批准新方案</button>`; this.renderScenario5UI(); const logEl = document.getElementById(`sim-log-${scenarioId}`); if(logEl) logEl.innerHTML = ''; this.log(scenarioId, 'system', `场景5：紧急插单模拟已初始化。`); document.getElementById('s5-step1').addEventListener('click', () => this.runScenario5Step1()); document.getElementById('s5-step2').addEventListener('click', () => this.runScenario5Step2()); },
                renderScenario5UI: function() { const scenarioId = 5; const state = this.state[scenarioId]; const ui = document.getElementById(`sim-ui-${scenarioId}`); let ganttHtml = ''; state.schedule.forEach(order => { const marginLeft = order.start; const width = order.end - order.start; ganttHtml += `<div class="gantt-row"><div class="gantt-label">${order.id} (${order.customer})</div><div class="gantt-bar-container"><div class="gantt-bar ${order.class}" style="margin-left: ${marginLeft}%; width: ${width}%;"><span>${order.id}</span></div></div></div>`; }); let impactHtml = ''; if (state.impact) { impactHtml = `<div class="mt-4 p-4 bg-yellow-50 border-l-4 border-yellow-400"><h4 class="font-bold text-yellow-800">Rush Order Impact</h4><ul class="text-sm mt-2 space-y-1"><li><strong>Affected Orders:</strong> ${state.impact.affectedOrders.join(', ')}</li><li><strong>Max Delay:</strong> ${state.impact.maxDelay} days</li><li><strong>Expedite Cost:</strong> $${state.impact.expediteCost.toLocaleString()}</li></ul></div>`; } ui.innerHTML = `<div class="p-6 bg-white"><h3 class="font-bold text-lg mb-4">Production Schedule - Rolling Mill 1</h3><div class="gantt-chart">${ganttHtml}</div>${impactHtml}</div>`; },
                runScenario5Step1: function() { const scenarioId = 5; this.log(scenarioId, 'system', '收到紧急插单请求 PO-RUSH...'); this.log(scenarioId, 'system', 'APS引擎正在模拟插单并计算影响...'); document.getElementById('s5-step1').disabled = true; setTimeout(() => { const rushOrder = this.state[scenarioId].rushOrder; const newSchedule = [ { id: 'PO-910', customer: 'Cust A', start: 0, end: 20, class: 'original' }, { ...rushOrder, start: 20, end: 20 + rushOrder.duration }, { id: 'PO-911', customer: 'Cust B', start: 20 + rushOrder.duration, end: 50 + rushOrder.duration, class: 'affected' }, { id: 'PO-912', customer: 'Cust C', start: 50 + rushOrder.duration, end: 100 + rushOrder.duration, class: 'affected' }, ]; this.state[scenarioId].impact = { affectedOrders: ['PO-911', 'PO-912'], maxDelay: Math.ceil(rushOrder.duration / 10), expediteCost: 15000, newSchedule: newSchedule }; this.log(scenarioId, 'warning', `影响分析完成：2个订单受影响，最大延迟 ${this.state[scenarioId].impact.maxDelay} 天，加急成本 $15,000。`); this.state[scenarioId].schedule = newSchedule; this.renderScenario5UI(); document.getElementById('s5-step2').disabled = false; }, 1500); },
                runScenario5Step2: function() { const scenarioId = 5; this.log(scenarioId, 'system', '新方案已批准。正在更新生产计划...'); document.getElementById('s5-step2').disabled = true; setTimeout(() => { this.log(scenarioId, 'system', 'APS系统已更新生产顺序。'); this.log(scenarioId, 'system', '正在自动通知受影响的客户(Cust B, Cust C)新的预计交期...'); this.log(scenarioId, 'success', '插单流程完成。'); }, 1000); },
                
                initPlaceholder: function(scenarioId) {
                    const scenarioData = scenarios.find(s => s.id === scenarioId);
                    const descEl = document.getElementById(`sim-desc-${scenarioId}`);
                    if (descEl) descEl.textContent = '该场景正在开发中。';
                    
                    const uiEl = document.getElementById(`sim-ui-${scenarioId}`);
                    if (uiEl) uiEl.innerHTML = '<div class="p-6 text-center text-gray-500 h-full flex items-center justify-center">此处的模拟界面即将推出。</div>';
                    
                    const controlsEl = document.getElementById(`sim-controls-${scenarioId}`);
                    if (controlsEl) controlsEl.innerHTML = '';
                    
                    const logEl = document.getElementById(`sim-log-${scenarioId}`);
                    if(logEl) logEl.innerHTML = '';
                    this.log(scenarioId, 'system', `场景 ${scenarioId}：${scenarioData.title} 已初始化。`);
                }
            };
            
            scenarios.forEach(scenario => {
                const button = document.createElement('button');
                button.textContent = `场景 ${scenario.id}`;
                button.dataset.scenarioId = scenario.id;
                button.setAttribute('title', scenario.title);
                simTabsContainer.appendChild(button);
                const contentDiv = document.createElement('div');
                contentDiv.id = `sim-content-${scenario.id}`;
                contentDiv.className = 'sim-content';
                simContentArea.appendChild(contentDiv);
            });
            
            simTabsContainer.querySelector('button').classList.add('active');
            simContentArea.querySelector('.sim-content').classList.add('active');

            simTabsContainer.addEventListener('click', (e) => {
                if (e.target.tagName === 'BUTTON') {
                    const scenarioId = parseInt(e.target.dataset.scenarioId, 10);
                    if (scenarioId === activeScenarioId) return;
                    activeScenarioId = scenarioId;
                    
                    simTabsContainer.querySelectorAll('button').forEach(btn => btn.classList.remove('active'));
                    e.target.classList.add('active');

                    simContentArea.querySelectorAll('.sim-content').forEach(content => content.classList.remove('active'));
                    document.getElementById(`sim-content-${scenarioId}`).classList.add('active');
                    
                    const initFunctionName = `initScenario${scenarioId}`;
                    if(typeof simulationEngine[initFunctionName] === 'function') {
                       simulationEngine[initFunctionName]();
                    } else {
                       simulationEngine.initPlaceholder(scenarioId);
                    }
                }
            });
            
            scenarios.forEach(scenario => {
                const contentDiv = document.getElementById(`sim-content-${scenario.id}`);
                contentDiv.innerHTML = `
                    <div class="sim-header">
                        <h4 class="text-xl font-bold text-gray-800">${scenario.title}</h4>
                    </div>
                    <div class="sim-body">
                        <div class="flex flex-col lg:flex-row gap-8">
                            <div class="lg:w-1/3 flex-shrink-0">
                                <h5 class="font-bold mb-2">业务场景描述</h5>
                                <p class="text-sm text-gray-600 mb-4" id="sim-desc-${scenario.id}"></p>
                                <div id="sim-controls-${scenario.id}"></div>
                            </div>
                            <div class="lg:w-2/3 flex-grow">
                                <h5 class="font-bold mb-2">系统模拟界面</h5>
                                <div id="sim-ui-${scenario.id}" class="ui-mockup-container min-h-[400px]"></div>
                            </div>
                        </div>
                        <div class="mt-8">
                            <h5 class="font-bold mb-2">仿真日志</h5>
                            <div class="sim-log" id="sim-log-${scenario.id}"></div>
                        </div>
                    </div>`;
                 const initFunctionName = `initScenario${scenario.id}`;
                 if(typeof simulationEngine[initFunctionName] === 'function') {
                    simulationEngine[initFunctionName]();
                 } else {
                    simulationEngine.initPlaceholder(scenario.id);
                 }
            });
        });
    </script>
</body>
</html>


