<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAP æ”¯æŒæœåŠ¡ä½“ç³»ï¼šæŠ€æœ¯æ¶æ„ä¸åŠŸèƒ½è“å›¾</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Chosen Palette: "Trust & Precision"
         Background: Slate-50 (Clean, Technical)
         Primary: Blue-900 (SAP Corporate Authority)
         Secondary: Sky-600 (Connectivity/Cloud)
         Accent: Emerald-500 (Success/Resolution)
    -->

    <!-- Application Structure Plan:
         Title: SAP Support Services Deep Dive
         Structure: Sidebar Navigation + Dynamic Content Pane.
         Sections:
         1. Evolution (Timeline): From SAPGUI OSS to SAP for Me.
         2. Backbone Architecture (The "Plumbing"): SAP Router, SNC, HTTPs vs RFC.
         3. Core Mechanics (Process Flows): SNOTE, Incident Processing, Maintenance Planner.
         4. Diagnostic Ecosystem (Tools): EWA, ANST, SDCCN.
         5. Future State (AI): Predictive Support, Cloud ALM integration.
         
         Interaction Model:
         - Clickable architectural layers to reveal protocols.
         - Steppers to visualize data flows (e.g., EWA data collection).
         - Tabular comparisons for Legacy vs Modern connectivity.
    -->

    <!-- Visualization & Content Choices:
         1. Architecture: HTML Block Diagram (No SVG). Goal: Show the secure tunnel from Customer -> SAP Router -> SAP Backbone.
         2. Evolution: Chart.js Mixed Chart. Goal: Visualize the complexity vs automation level over time.
         3. EWA Process: Vertical Stepper. Goal: Explain the SDCCN -> Backbone -> Report loop.
         4. SNOTE Logic: Logic Gate Visualization (CSS/HTML). Goal: Show how version/validity checks work.
         
         CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->

    <style>
        /* Chart Container Styling */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            height: 400px;
            max-height: 450px;
            margin: 0 auto;
            background-color: white;
            border-radius: 0.5rem;
            padding: 1rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        /* Custom Scrollbar */
        .custom-scroll::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scroll::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background-color: #94a3b8;
            border-radius: 20px;
        }

        /* Interactive Card Styles */
        .tech-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-left: 4px solid transparent;
        }
        .tech-card:hover {
            transform: translateX(4px);
            border-left-color: #0284c7; /* Sky-600 */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        /* Animation Utilities */
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-slide-in {
            animation: slideIn 0.4s ease-out forwards;
        }

        /* Connection Line Simulation (CSS) */
        .connection-line {
            height: 2px;
            background: #cbd5e1;
            position: relative;
            overflow: hidden;
        }
        .connection-packet {
            position: absolute;
            top: -2px;
            left: 0;
            width: 20px;
            height: 6px;
            background: #0ea5e9;
            border-radius: 4px;
            animation: flow 2s infinite linear;
        }
        @keyframes flow {
            0% { left: 0; opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { left: 100%; opacity: 0; }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 font-sans h-screen flex overflow-hidden">

    <!-- Mobile Header -->
    <div class="md:hidden fixed top-0 w-full bg-slate-900 text-white z-50 p-4 flex justify-between items-center shadow-md">
        <span class="font-bold tracking-wide">SAP Support Tech</span>
        <button onclick="toggleSidebar()" class="text-white focus:outline-none text-2xl">â˜°</button>
    </div>

    <!-- Sidebar -->
    <aside class="w-64 bg-slate-900 text-slate-100 flex-shrink-0 flex flex-col transition-all duration-300 z-40 hidden md:flex" id="sidebar">
        <div class="p-6 border-b border-slate-800 bg-slate-950">
            <h1 class="text-lg font-bold uppercase tracking-widest text-blue-400">Support <span class="text-white">Blueprint</span></h1>
            <p class="text-xs text-slate-500 mt-1">æŠ€æœ¯æ¶æ„ä¸åŠŸèƒ½è“å›¾</p>
        </div>
        
        <nav class="flex-1 overflow-y-auto custom-scroll py-6 space-y-1">
            <button onclick="loadSection('evolution')" class="nav-item w-full text-left px-6 py-3 hover:bg-slate-800 transition-colors border-l-4 border-transparent hover:border-blue-500 focus:outline-none active-nav" id="btn-evolution">
                <span class="mr-3">â³</span> æ¼”è¿›ä¸å…¨æ™¯å›¾
            </button>
            <button onclick="loadSection('backbone')" class="nav-item w-full text-left px-6 py-3 hover:bg-slate-800 transition-colors border-l-4 border-transparent hover:border-blue-500 focus:outline-none" id="btn-backbone">
                <span class="mr-3">ğŸŒ</span> éª¨å¹²ç½‘æ¶æ„ (Backbone)
            </button>
            <button onclick="loadSection('mechanics')" class="nav-item w-full text-left px-6 py-3 hover:bg-slate-800 transition-colors border-l-4 border-transparent hover:border-blue-500 focus:outline-none" id="btn-mechanics">
                <span class="mr-3">âš™ï¸</span> æ ¸å¿ƒè¿ä½œæœºç†
            </button>
            <button onclick="loadSection('diagnostics')" class="nav-item w-full text-left px-6 py-3 hover:bg-slate-800 transition-colors border-l-4 border-transparent hover:border-blue-500 focus:outline-none" id="btn-diagnostics">
                <span class="mr-3">ğŸ©º</span> è¯Šæ–­ä¸ç›‘æ§ä½“ç³»
            </button>
            <button onclick="loadSection('future')" class="nav-item w-full text-left px-6 py-3 hover:bg-slate-800 transition-colors border-l-4 border-transparent hover:border-blue-500 focus:outline-none" id="btn-future">
                <span class="mr-3">ğŸ¤–</span> æ™ºèƒ½åŒ–ä¸æœªæ¥
            </button>
        </nav>

        <div class="p-4 bg-slate-800 text-xs text-slate-400 border-t border-slate-700">
            <div>Data Structure: JSON</div>
            <div>Render Engine: Vanilla JS</div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 overflow-y-auto bg-slate-50 relative pt-16 md:pt-0" id="main-content">
        <!-- Dynamic Content Injected Here -->
    </main>

    <script>
        // --- DATA STORE ---
        const reportData = {
            evolution: {
                title: "SAP æ”¯æŒæœåŠ¡çš„ä»£é™…æ¼”è¿›",
                subtitle: "ä» R/3 æ—¶ä»£çš„ç”µè¯ä¼ çœŸåˆ° SAP for Me çš„äº‘ç«¯é›†æˆ",
                intro: "SAP çš„æ”¯æŒä½“ç³»ä¸ä»…ä»…æ˜¯å”®åæœåŠ¡ï¼Œå®ƒæ˜¯å…¶è½¯ä»¶ç”Ÿå‘½å‘¨æœŸçš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ã€‚éšç€æŠ€æœ¯æ¶æ„ä» Client-Server è½¬å‘ Cloud-Nativeï¼Œæ”¯æŒæœåŠ¡çš„è½½ä½“ä¹Ÿç»å†äº†ä»ç‰©ç†ä»‹è´¨ã€åµŒå…¥å¼ GUI åˆ° Web Portal å†åˆ°æ™ºèƒ½åŒ–ä¸­å°çš„å½»åº•é‡æ„ã€‚",
                stages: [
                    { year: "1.0 æ—¶ä»£", name: "SAP R/3 OSS", desc: "åŸºäº SAP GUI çš„å†…åµŒ Online Service Systemã€‚é€šè¿‡ SAP Router å»ºç«‹ç‚¹å¯¹ç‚¹è¿æ¥ï¼Œå·¥ç¨‹å¸ˆç›´æ¥ç™»å½•æ’æŸ¥ã€‚Note åˆ†å‘ä¾èµ–æ‰‹åŠ¨ã€‚", icon: "ğŸ“ " },
                    { year: "2.0 æ—¶ä»£", name: "Solution Manager", desc: "å¼•å…¥ ALM ç†å¿µã€‚SolMan æˆä¸ºè¿æ¥å®¢æˆ·ä¸ SAP çš„ç½‘å…³ã€‚EarlyWatch Alert (EWA) å¼€å§‹æ™®åŠï¼Œå®ç°ä¸»åŠ¨å¼ç›‘æ§ã€‚", icon: "ğŸ¢" },
                    { year: "3.0 æ—¶ä»£", name: "Support Launchpad", desc: "åŸºäº Fiori è®¾è®¡è¯­è¨€çš„ Web é—¨æˆ·ã€‚åŸºäºç£è´´ (Tile) çš„ç”¨æˆ·ä½“éªŒï¼Œèšåˆäº† KBã€Incidents å’Œ Keysã€‚", icon: "ğŸš€" },
                    { year: "4.0 æ—¶ä»£", name: "SAP for Me & Cloud ALM", desc: "è¯­ä¹‰åŒ–ã€ä¸ªæ€§åŒ–çš„ä¸­å¤®å…¥å£ã€‚å…¨é¢é›†æˆäº‘äº§å“ï¼Œå¼•å…¥å®æ—¶æ”¯æŒ (Expert Chat) å’Œ AI é¢„æµ‹åˆ†æã€‚", icon: "â˜ï¸" }
                ],
                chartData: {
                    labels: ['1995 (OSS)', '2005 (SolMan)', '2015 (Launchpad)', '2025 (SAP for Me)'],
                    complexity: [20, 80, 60, 40], // User Complexity (Going down is better)
                    automation: [10, 30, 70, 95]  // Automation Level
                }
            },
            backbone: {
                title: "SAP Support Backbone éª¨å¹²ç½‘æ¶æ„",
                subtitle: "è¿æ¥å®¢æˆ·ç¯å¢ƒä¸ SAP å…¨çƒæ”¯æŒä¸­å¿ƒçš„æŠ€æœ¯åŠ¨è„‰",
                intro: "Support Backbone æ˜¯ SAP ç”Ÿæ€ç³»ç»Ÿçš„æ ¸å¿ƒåŸºç¡€è®¾æ–½ã€‚2020 å¹´ï¼ŒSAP å®Œæˆäº†é‡å¤§çš„éª¨å¹²ç½‘å‡çº§ï¼Œå¼ƒç”¨äº†ä¼ ç»Ÿçš„ RFC ç”¨æˆ·éªŒè¯ï¼Œå…¨é¢è½¬å‘åŸºäº HTTPS å’ŒæŠ€æœ¯é€šä¿¡ç”¨æˆ· (Technical User) çš„é«˜å®‰å…¨æ¶æ„ã€‚",
                components: [
                    {
                        name: "SAP Router",
                        role: "åå‘ä»£ç†ä¸å®‰å…¨ç½‘å…³",
                        detail: "éƒ¨ç½²åœ¨å®¢æˆ· DMZ åŒºã€‚ä½¿ç”¨ NI (Network Interface) åè®®ã€‚å®ƒæ˜¯å”¯ä¸€æš´éœ²å…¬ç½‘ IP çš„ç»„ä»¶ï¼Œé€šè¿‡ SNC (Secure Network Communications) åŠ å¯†éš§é“è¿æ¥ SAP Walldorfã€‚"
                    },
                    {
                        name: "Connectivity Stack",
                        role: "é€šä¿¡åè®®æ ˆ",
                        detail: "æ—§æ—¶ä»£ï¼šSAPOSS (RFC Destination) + é€šç”¨ç”¨æˆ·ã€‚æ–°æ—¶ä»£ï¼šHTTPS + å®¢æˆ·ç«¯è¯ä¹¦/æŠ€æœ¯ç”¨æˆ· (S-User)ã€‚ç¡®ä¿äº†æ•°æ®ä¼ è¾“çš„ä¸å¯æŠµèµ–æ€§ã€‚"
                    },
                    {
                        name: "Landscape Data",
                        role: "ç³»ç»Ÿå…¨æ™¯æ•°æ®åŒæ­¥",
                        detail: "é€šè¿‡ SLD (System Landscape Directory) æ”¶é›†ç³»ç»Ÿç»„ä»¶ç‰ˆæœ¬ï¼Œç»ç”± LMDB åŒæ­¥è‡³ Maintenance Plannerï¼Œç¡®ä¿è¡¥ä¸ä¾èµ–å…³ç³»çš„å‡†ç¡®è®¡ç®—ã€‚"
                    }
                ]
            },
            mechanics: {
                title: "æ ¸å¿ƒåŠŸèƒ½è¿ä½œæœºç†",
                subtitle: "Note å®æ–½ã€è½¯ä»¶åˆ†å‘ä¸æ•…éšœå¤„ç†çš„æŠ€æœ¯é€»è¾‘",
                features: [
                    {
                        id: "snote",
                        title: "SNOTE (Note Assistant)",
                        desc: "è‡ªåŠ¨åŒ–ä»£ç ä¿®å¤å·¥å…·ã€‚å®ƒè§£æ SAP Note ä¸­çš„ Correction Instructions (CI)ï¼Œå¯¹æ¯”ç³»ç»Ÿå½“å‰ç‰ˆæœ¬ï¼Œè®¡ç®— Delta å¹¶è‡ªåŠ¨å®æ–½ä»£ç å˜æ›´ã€‚"
                    },
                    {
                        id: "maintenance",
                        title: "Maintenance Planner",
                        desc: "äº‘ç«¯ä¾èµ–æ€§è®¡ç®—å¼•æ“ã€‚åœ¨å‡çº§ S/4HANA æˆ–æ‰“ EHP åŒ…æ—¶ï¼Œå®ƒè®¡ç®—æ‰€æœ‰è½¯ä»¶ç»„ä»¶çš„å…¼å®¹æ€§ï¼Œå¹¶ç”Ÿæˆ Stack XML æ–‡ä»¶ä¾› SUM (Software Update Manager) ä½¿ç”¨ã€‚"
                    },
                    {
                        id: "incident",
                        title: "Incident Processing",
                        desc: "æ•…éšœå•æµè½¬æœºåˆ¶ã€‚æ”¯æŒæ—¥å¿—è‡ªåŠ¨ä¸Šä¼  (ANST)ã€‚å½“ä¼˜å…ˆçº§ä¸º 'Very High' æ—¶ï¼Œè§¦å‘ 24x7 å…¨çƒæ¥åŠ› (Follow-the-sun) æ¨¡å¼ã€‚"
                    }
                ]
            },
            diagnostics: {
                title: "è¯Šæ–­ä¸ç›‘æ§ä½“ç³»",
                subtitle: "SDCCN, EWA ä¸ ANST",
                intro: "SAP çš„æ”¯æŒä¸ä»…æ˜¯è¢«åŠ¨çš„ï¼Œæ›´æ˜¯åŸºäºæ•°æ®çš„ã€‚ç³»ç»Ÿé€šè¿‡ SDCCN (Service Data Control Center) æ¡†æ¶å®šæœŸæ”¶é›†æ€§èƒ½å…ƒæ•°æ®ï¼Œå‘é€å› SAP è¿›è¡Œåˆ†æã€‚",
                ewa_steps: [
                    "1. æ•°æ®æ”¶é›† (SDCCN): åœ¨å®¢æˆ·æœºè¿è¡Œ Function Modules æ”¶é›† DB ç»Ÿè®¡ã€ST22 Dumpsã€SM21 æ—¥å¿—ã€‚",
                    "2. æ•°æ®ä¼ è¾“: é€šè¿‡ 'Service' RFC ç›®æ ‡æˆ– HTTPS å‘é€åˆ° SAP åç«¯ã€‚",
                    "3. è‡ªåŠ¨åˆ†æ: SAP ä¸“å®¶ç³»ç»Ÿå¯¹æ¯”æ•°ä¸‡ä¸ªå®¢æˆ·çš„æœ€ä½³å®è·µåŸºçº¿ã€‚",
                    "4. æŠ¥å‘Šç”Ÿæˆ: ç”Ÿæˆçº¢/é»„/ç»¿è¯„åˆ†çš„ Word/HTML æŠ¥å‘Šï¼Œæ¨é€åˆ° SolMan æˆ– One Support Launchpadã€‚"
                ]
            },
            future: {
                title: "æ™ºèƒ½åŒ–æœªæ¥ï¼šAI ä¸å®æ—¶æ”¯æŒ",
                subtitle: "ä» Ticket åˆ° Conversation",
                trends: [
                    { title: "Expert Chat", desc: "å®æ—¶è¿æ¥ã€‚ç»•è¿‡ L1 æ”¯æŒï¼Œç›´æ¥ä¸äº§å“ä¸“å®¶å¯¹è¯ã€‚å¹³å‡è§£å†³æ—¶é—´å‡å°‘ 60%ã€‚" },
                    { title: "Predictive Support", desc: "åˆ©ç”¨æœºå™¨å­¦ä¹ åˆ†ææ—¥å¿—æ¨¡å¼ï¼Œåœ¨æ•…éšœå‘ç”Ÿå‰é€šè¿‡ Cloud ALM å‘å‡ºé¢„è­¦ã€‚" },
                    { title: "Automated Translation", desc: "ç¥ç»æœºå™¨ç¿»è¯‘æŠ€æœ¯ï¼Œæ‰“ç ´è¯­è¨€éšœç¢ï¼Œå…è®¸å³æ—¶ç¿»è¯‘ SAP Notes å’Œ Incidentsã€‚" }
                ]
            }
        };

        // --- RENDER FUNCTIONS ---

        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('hidden');
            sidebar.classList.toggle('fixed');
            sidebar.classList.toggle('h-full');
            sidebar.classList.toggle('top-0');
            sidebar.classList.toggle('left-0');
        }

        function loadSection(sectionId) {
            // Update Active State
            document.querySelectorAll('.nav-item').forEach(btn => {
                btn.classList.remove('border-blue-500', 'bg-slate-800');
                btn.classList.add('border-transparent');
            });
            document.getElementById(`btn-${sectionId}`).classList.add('border-blue-500', 'bg-slate-800');
            document.getElementById(`btn-${sectionId}`).classList.remove('border-transparent');
            
            // Close mobile sidebar
            if(window.innerWidth < 768) {
                toggleSidebar();
            }

            const contentDiv = document.getElementById('main-content');
            const data = reportData[sectionId];

            // Common Header
            let html = `
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 animate-slide-in">
                    <div class="mb-8 pb-4 border-b border-slate-200">
                        <h2 class="text-3xl font-bold text-slate-900">${data.title}</h2>
                        <p class="text-lg text-blue-600 mt-2">${data.subtitle}</p>
                        ${data.intro ? `<p class="mt-4 text-slate-600 bg-white p-4 rounded shadow-sm border-l-4 border-blue-400">${data.intro}</p>` : ''}
                    </div>
            `;

            // Specific Content
            if (sectionId === 'evolution') html += renderEvolution(data);
            if (sectionId === 'backbone') html += renderBackbone(data);
            if (sectionId === 'mechanics') html += renderMechanics(data);
            if (sectionId === 'diagnostics') html += renderDiagnostics(data);
            if (sectionId === 'future') html += renderFuture(data);

            html += `</div>`;
            contentDiv.innerHTML = html;

            // Initialize Charts
            if (sectionId === 'evolution') initEvolutionChart(data.chartData);
        }

        // --- SECTION RENDERERS ---

        function renderEvolution(data) {
            return `
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Timeline Cards -->
                    <div class="space-y-4">
                        <h3 class="font-bold text-slate-800 mb-4">æŠ€æœ¯è¿­ä»£é‡Œç¨‹ç¢‘</h3>
                        ${data.stages.map((stage, idx) => `
                            <div class="tech-card bg-white p-4 rounded shadow-sm flex items-start">
                                <div class="text-3xl mr-4 bg-slate-100 p-2 rounded">${stage.icon}</div>
                                <div>
                                    <span class="text-xs font-bold text-blue-500 uppercase tracking-wide">${stage.year}</span>
                                    <h4 class="font-bold text-slate-800">${stage.name}</h4>
                                    <p class="text-sm text-slate-600 mt-1">${stage.desc}</p>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                    
                    <!-- Chart -->
                    <div class="bg-white p-6 rounded shadow-md flex flex-col">
                        <h3 class="font-bold text-slate-800 mb-4">ç”¨æˆ·å¤æ‚åº¦ vs è‡ªåŠ¨åŒ–ç¨‹åº¦</h3>
                        <div class="chart-container flex-1">
                            <canvas id="evolutionChart"></canvas>
                        </div>
                        <div class="mt-4 text-xs text-slate-500 text-center">
                            éšç€æ¶æ„æ¼”è¿›ï¼Œç”¨æˆ·ä¾§çš„æ‰‹åŠ¨é…ç½®å¤æ‚åº¦é™ä½ï¼Œåå°è‡ªåŠ¨åŒ–ç¨‹åº¦æŒ‡æ•°çº§ä¸Šå‡ã€‚
                        </div>
                    </div>
                </div>
            `;
        }

        function renderBackbone(data) {
            return `
                <div class="space-y-8">
                    <!-- Architecture Diagram -->
                    <div class="bg-slate-900 p-6 rounded-xl shadow-lg text-white">
                        <h3 class="text-lg font-bold mb-6 text-center">Support Backbone æ•°æ®æµå…¨æ™¯</h3>
                        
                        <div class="flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0 relative">
                            <!-- Customer Side -->
                            <div class="w-full md:w-1/4 bg-slate-800 p-4 rounded border border-slate-700 text-center z-10">
                                <div class="text-4xl mb-2">ğŸ¢</div>
                                <div class="font-bold">Customer Network</div>
                                <div class="text-xs text-slate-400 mt-2">SolMan / ABAP System</div>
                                <div class="mt-2 text-xs bg-slate-700 p-1 rounded">HTTPS / RFC</div>
                            </div>

                            <!-- Connection Line 1 -->
                            <div class="w-full md:w-1/4 h-16 flex items-center justify-center relative">
                                <div class="connection-line w-full">
                                    <div class="connection-packet"></div>
                                </div>
                                <span class="absolute -top-4 text-xs text-slate-400">SNC Encryption</span>
                            </div>

                            <!-- SAP Router -->
                            <div class="w-full md:w-1/6 bg-blue-900 p-4 rounded border-2 border-blue-500 text-center z-10 shadow-[0_0_15px_rgba(59,130,246,0.5)]">
                                <div class="text-2xl mb-1">ğŸ›¡ï¸</div>
                                <div class="font-bold text-sm">SAP Router</div>
                                <div class="text-xs text-blue-200">DMZ Proxy</div>
                            </div>

                            <!-- Connection Line 2 -->
                            <div class="w-full md:w-1/4 h-16 flex items-center justify-center relative">
                                <div class="connection-line w-full">
                                    <div class="connection-packet" style="animation-delay: 1s"></div>
                                </div>
                                <span class="absolute -top-4 text-xs text-slate-400">Internet (HTTPS)</span>
                            </div>

                            <!-- SAP Side -->
                            <div class="w-full md:w-1/4 bg-slate-800 p-4 rounded border border-slate-700 text-center z-10">
                                <div class="text-4xl mb-2">â˜ï¸</div>
                                <div class="font-bold">SAP Backbone</div>
                                <div class="text-xs text-slate-400 mt-2">Support Portal / SWDC</div>
                            </div>
                        </div>
                    </div>

                    <!-- Components Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        ${data.components.map(comp => `
                            <div class="bg-white p-6 rounded shadow-sm border-t-4 border-blue-500">
                                <h4 class="font-bold text-lg text-slate-800 mb-2">${comp.name}</h4>
                                <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded font-bold">${comp.role}</span>
                                <p class="text-sm text-slate-600 mt-4 leading-relaxed">${comp.detail}</p>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function renderMechanics(data) {
            return `
                <div class="grid grid-cols-1 gap-6">
                    ${data.features.map(feat => `
                        <div class="bg-white p-6 rounded-lg shadow-sm flex flex-col md:flex-row hover:shadow-md transition-shadow">
                            <div class="md:w-1/3 border-r border-slate-100 pr-6 mb-4 md:mb-0">
                                <h3 class="text-xl font-bold text-blue-900">${feat.title}</h3>
                                <p class="text-sm text-slate-500 mt-2">${feat.desc}</p>
                            </div>
                            <div class="md:w-2/3 md:pl-6">
                                ${getMechanismVisual(feat.id)}
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        // Helper for Mechanics Visuals
        function getMechanismVisual(type) {
            if (type === 'snote') {
                return `
                    <div class="flex items-center text-xs font-mono space-x-2 overflow-x-auto py-2">
                        <div class="bg-slate-100 p-2 border rounded text-center min-w-[80px]">Note<br>Download</div>
                        <div>â¡</div>
                        <div class="bg-amber-50 p-2 border border-amber-200 rounded text-center min-w-[80px]">Validity<br>Check</div>
                        <div>â¡</div>
                        <div class="bg-blue-50 p-2 border border-blue-200 rounded text-center min-w-[80px]">Dependency<br>Calc</div>
                        <div>â¡</div>
                        <div class="bg-green-50 p-2 border border-green-200 rounded text-center min-w-[80px]">Code<br>Implementation</div>
                        <div>â¡</div>
                        <div class="bg-slate-800 text-white p-2 rounded text-center min-w-[80px]">Activation</div>
                    </div>
                `;
            } else if (type === 'maintenance') {
                return `
                    <div class="bg-slate-50 p-3 rounded border border-slate-200 text-sm">
                        <div class="flex justify-between items-center mb-2">
                            <span>Current State (LMDB)</span>
                            <span class="text-blue-500 font-bold">+</span>
                            <span>Target State (S/4HANA 2023)</span>
                        </div>
                        <div class="w-full bg-slate-200 h-2 rounded overflow-hidden mb-2">
                            <div class="bg-blue-500 h-full w-2/3"></div>
                        </div>
                        <div class="text-center font-bold text-blue-800">
                            Output: Stack XML (MP.xml)
                        </div>
                    </div>
                `;
            } else {
                return `
                    <div class="flex justify-between items-center text-sm">
                        <div class="text-center">
                            <div class="bg-red-100 text-red-800 p-2 rounded font-bold mb-1">Very High</div>
                            <div class="text-xs">Customer</div>
                        </div>
                        <div class="flex-1 border-t-2 border-dashed border-slate-300 mx-4 relative h-0">
                            <div class="absolute -top-3 left-1/2 -translate-x-1/2 bg-white px-2 text-xs text-slate-500">24x7 Routing</div>
                        </div>
                        <div class="text-center">
                            <div class="bg-blue-100 text-blue-800 p-2 rounded font-bold mb-1">MCC</div>
                            <div class="text-xs">Mission Control</div>
                        </div>
                    </div>
                `;
            }
        }

        function renderDiagnostics(data) {
            return `
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- EWA Stepper -->
                    <div class="bg-white p-6 rounded-xl shadow-md">
                        <h3 class="text-xl font-bold mb-6 text-slate-800">EarlyWatch Alert (EWA) æ•°æ®æµ</h3>
                        <div class="space-y-0">
                            ${data.ewa_steps.map((step, idx) => `
                                <div class="flex group">
                                    <div class="flex flex-col items-center mr-4">
                                        <div class="w-8 h-8 flex items-center justify-center rounded-full border-2 border-blue-500 bg-white text-blue-500 font-bold group-hover:bg-blue-500 group-hover:text-white transition-colors">
                                            ${idx + 1}
                                        </div>
                                        ${idx < data.ewa_steps.length - 1 ? '<div class="w-0.5 h-12 bg-slate-200 my-1"></div>' : ''}
                                    </div>
                                    <div class="pb-8 pt-1">
                                        <p class="text-slate-700 text-sm group-hover:text-blue-800 transition-colors">${step}</p>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <!-- Tools Grid -->
                    <div class="space-y-4">
                        <div class="bg-emerald-50 p-4 rounded-lg border border-emerald-100">
                            <h4 class="font-bold text-emerald-800">ANST (Automated Note Search Tool)</h4>
                            <p class="text-sm text-emerald-700 mt-1">äº¤æ˜“ä»£ç : ANSTã€‚ä¸ä»…æ˜¯æœç´¢ï¼Œå®ƒé€šè¿‡ Trace è·Ÿè¸ª ABAP æ‰§è¡Œè·¯å¾„ï¼Œç²¾å‡†è¯†åˆ«å“ªäº›æ ‡å‡†å¯¹è±¡ï¼ˆFunction, Classï¼‰è¢«è°ƒç”¨ï¼Œå¹¶ç›´æ¥åŒ¹é…ç›¸å…³çš„ Bug Fix Notesã€‚å®ƒæ˜¯è§£å†³â€œæœªè§£é‡Šçš„ç¨‹åºé”™è¯¯â€çš„ç¥å™¨ã€‚</p>
                        </div>
                        <div class="bg-sky-50 p-4 rounded-lg border border-sky-100">
                            <h4 class="font-bold text-sky-800">SDCCN (Service Data Control Center)</h4>
                            <p class="text-sm text-sky-700 mt-1">åå°æ•°æ®æ”¶é›†çš„æ€»æŒ‡æŒ¥ã€‚å®ƒç®¡ç† 'Task'ã€‚ä»ä¼ ç»Ÿçš„ RFC æ¨é€æ¨¡å¼ï¼Œæ¼”è¿›ä¸º HTTP æ‹‰å–æ¨¡å¼ï¼Œä»¥é€‚åº”äº‘ç«¯å®‰å…¨è¦æ±‚ã€‚</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderFuture(data) {
            return `
                <div class="bg-white p-8 rounded-xl shadow-lg border-t-8 border-indigo-500">
                    <h3 class="text-2xl font-bold mb-8 text-center text-slate-800">ä¸‹ä¸€ä»£æ”¯æŒæœåŠ¡ç‰¹å¾</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        ${data.trends.map(trend => `
                            <div class="text-center p-4 hover:bg-slate-50 rounded transition-colors">
                                <div class="h-16 w-16 mx-auto bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center text-2xl mb-4">
                                    ${trend.title === 'Expert Chat' ? 'ğŸ’¬' : trend.title === 'Predictive Support' ? 'ğŸ”®' : 'ğŸŒ'}
                                </div>
                                <h4 class="font-bold text-slate-800 mb-2">${trend.title}</h4>
                                <p class="text-sm text-slate-600">${trend.desc}</p>
                            </div>
                        `).join('')}
                    </div>
                    <div class="mt-8 pt-6 border-t border-slate-100 text-center">
                        <p class="text-xs text-slate-400">Integration Target: SAP Cloud ALM for Implementation & Operations</p>
                    </div>
                </div>
            `;
        }

        // --- CHART INITIALIZATION ---
        
        let evolutionChartInstance = null;

        function initEvolutionChart(chartData) {
            const ctx = document.getElementById('evolutionChart');
            if(!ctx) return;
            
            if(evolutionChartInstance) evolutionChartInstance.destroy();

            evolutionChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: chartData.labels,
                    datasets: [
                        {
                            label: 'ç”¨æˆ·æ‰‹åŠ¨å¤æ‚åº¦',
                            data: chartData.complexity,
                            type: 'line',
                            borderColor: '#ef4444',
                            borderWidth: 2,
                            fill: false,
                            yAxisID: 'y'
                        },
                        {
                            label: 'åå°è‡ªåŠ¨åŒ–ç¨‹åº¦',
                            data: chartData.automation,
                            backgroundColor: '#3b82f6',
                            yAxisID: 'y1'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            title: { display: true, text: 'å¤æ‚åº¦ (ä½ä¼˜)' }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            grid: { drawOnChartArea: false },
                            title: { display: true, text: 'è‡ªåŠ¨åŒ– %' }
                        }
                    }
                }
            });
        }

        // Init
        document.addEventListener('DOMContentLoaded', () => {
            loadSection('evolution');
        });

    </script>
</body>
</html>
