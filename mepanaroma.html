<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6214772877334340"
     crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Middle East Panorama</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Chosen Palette: Desert Neutrals -->
    <!-- Application Structure Plan: This SPA uses a single-page, vertical-scrolling layout with a fixed top navigation bar for direct jumps to five core thematic dashboards: Military Power, Economic Transformation, Digital Revolution, Key Figures, and Future Trends. A dashboard/theme-based structure was chosen over a linear report format to empower users with non-linear exploration based on their interests, enhancing usability. Key interactions include: 1) Tabbed interfaces within each section to layer complex information (e.g., War History vs. Force Comparison). 2) An interactive horizontal timeline for historical conflicts. 3) Dynamic Chart.js charts for data comparison. 4) A card-based layout for leader and organization profiles. 5) Modal windows for video content, allowing users to watch without leaving the application. This design transforms a dense, text-heavy report into an easily digestible and explorable experience. -->
    <!-- Visualization & Content Choices: 1) Historical Wars -> Goal: Showcase timeline and impact -> Method: Interactive timeline built with HTML/CSS/JS -> Interaction: Click events update a content area below, showing war details and a video button -> Rationale: A timeline is the most intuitive way to present historical events, and showing details on-demand keeps the interface clean. 2) Military/Economic Comparison -> Goal: Compare key national strengths and metrics -> Method: Bar and doughnut charts from Chart.js -> Interaction: Hover tooltips, buttons to switch between different economic indicators -> Rationale: Charts are ideal for quantitative comparison, and interactive filtering allows for focused analysis. 3) Political Figures -> Goal: Profile key leaders -> Method: Card-based layout with HTML/Tailwind -> Interaction: Tabs to switch between historical/current figures -> Rationale: The card layout is visually appealing, organized, and easy to browse. 4) AI Strategy -> Goal: Organize and compare national strategies -> Method: Expandable table/list with HTML/Tailwind -> Interaction: Clicking a row expands to show project details -> Rationale: The tabular structure is clear, and expand/collapse interactions prevent information overload. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f9f9f9;
            color: #1f2937;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 50vh;
        }
        @media (max-width: 768px) {
            .chart-container {
                height: 350px;
                max-height: 60vh;
            }
        }
        .tab-active {
            border-color: #3b82f6;
            color: #3b82f6;
            background-color: #eff6ff;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            top: 10px;
            left: -21px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #ffffff;
            border: 3px solid #6b7280;
            z-index: 1;
        }
        .timeline-item.active::before {
            border-color: #3b82f6;
            background-color: #3b82f6;
        }
        .modal-video-link {
            transition: all 0.2s;
        }
        .modal-video-link:hover {
            background-color: #e5e7eb;
        }
    </style>
</head>
<body class="bg-stone-50 text-gray-800">

    <header id="header" class="bg-white/90 backdrop-blur-sm sticky top-0 z-40 shadow-sm transition-all duration-300">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <span class="font-bold text-xl text-blue-600">Middle East Panorama</span>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#overview" class="text-gray-600 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium">Overview</a>
                        <a href="#military" class="text-gray-600 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium">Military Power</a>
                        <a href="#economy" class="text-gray-600 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium">Economic Transformation</a>
                        <a href="#digital" class="text-gray-600 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium">Digital Revolution</a>
                        <a href="#politics" class="text-gray-600 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium">Key Figures</a>
                        <a href="#future" class="text-gray-600 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium">Future Trends</a>
                    </div>
                </div>
                 <div class="md:hidden">
                    <button id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500">
                        <span class="sr-only">Open main menu</span>
                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                        </svg>
                    </button>
                </div>
            </div>
        </nav>
        <div class="hidden md:hidden" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#overview" class="text-gray-600 hover:text-blue-600 block px-3 py-2 rounded-md text-base font-medium">Overview</a>
                <a href="#military" class="text-gray-600 hover:text-blue-600 block px-3 py-2 rounded-md text-base font-medium">Military Power</a>
                <a href="#economy" class="text-gray-600 hover:text-blue-600 block px-3 py-2 rounded-md text-base font-medium">Economic Transformation</a>
                <a href="#digital" class="text-gray-600 hover:text-blue-600 block px-3 py-2 rounded-md text-base font-medium">Digital Revolution</a>
                <a href="#politics" class="text-gray-600 hover:text-blue-600 block px-3 py-2 rounded-md text-base font-medium">Key Figures</a>
                <a href="#future" class="text-gray-600 hover:text-blue-600 block px-3 py-2 rounded-md text-base font-medium">Future Trends</a>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        
        <section id="overview" class="py-16 sm:py-24 text-center">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-gray-900 tracking-tight">From Ashes to a Crossroads: The Middle East in Remaking</h1>
            <p class="mt-6 max-w-3xl mx-auto text-lg text-gray-600">
                Analyzing the geopolitical evolution of the Middle East since WWII, this report argues its future will be shaped by five core drivers: military, economic, digital, political, and emerging trends. This is an era of conflict, opportunity, and profound change.
            </p>
        </section>

        <section id="military" class="py-16 sm:py-20">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900">Fire and Power: The Evolution of the Military Landscape</h2>
                <p class="mt-4 text-lg text-gray-600">From symmetrical state-on-state wars to hybrid warfare, proxy networks, asymmetric tactics, and high-tech weaponry are reshaping conflict in the Middle East.</p>
            </div>
            <div class="bg-white rounded-xl shadow-lg p-6 sm:p-8">
                <div class="border-b border-gray-200 mb-6">
                    <nav class="-mb-px flex flex-wrap justify-center space-x-2 sm:space-x-8" aria-label="Tabs">
                        <button class="military-tab tab-active whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm" data-tab="wars">Historical Wars</button>
                        <button class="military-tab whitespace-nowrap py-4 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700 hover:border-gray-300" data-tab="comparison">Force Comparison</button>
                        <button class="military-tab whitespace-nowrap py-4 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700 hover:border-gray-300" data-tab="actors">Non-State Actors</button>
                    </nav>
                </div>

                <div id="military-content">
                    <!-- JS will populate content here -->
                </div>
            </div>
        </section>

        <section id="economy" class="py-16 sm:py-20">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900">Oil and Vision: The Transformation of Economic Engines</h2>
                <p class="mt-4 text-lg text-gray-600">From reliance on "black gold" to embracing diversification, economic reforms represented by Saudi "Vision 2030" are reshaping regional and global economic maps.</p>
            </div>
            <div class="bg-white rounded-xl shadow-lg p-6 sm:p-8">
                <div class="border-b border-gray-200 mb-6">
                    <nav class="-mb-px flex flex-wrap justify-center space-x-2 sm:space-x-8" aria-label="Tabs">
                         <button class="economy-tab tab-active whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm" data-tab="transformation">Path to Transformation</button>
                        <button class="economy-tab whitespace-nowrap py-4 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700 hover:border-gray-300" data-tab="comparison">Economic Indicators</button>
                    </nav>
                </div>
                <div id="economy-content">
                     <!-- JS will populate content here -->
                </div>
            </div>
        </section>
        
        <section id="digital" class="py-16 sm:py-20">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900">Code and Compute: The Digital Revolution & New Power Race</h2>
                <p class="mt-4 text-lg text-gray-600">Data has become the "new oil." Gulf states are leveraging their "energy + capital" advantage to launch a power play in AI and data centers, aiming to reshape the tech landscape.</p>
            </div>
            <div class="bg-white rounded-xl shadow-lg p-6 sm:p-8" id="digital-content">
                 <!-- JS will populate content here -->
            </div>
        </section>
        
        <section id="politics" class="py-16 sm:py-20">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900">Titans on the Stage: The Political Figures Shaping Destiny</h2>
                <p class="mt-4 text-lg text-gray-600">Middle Eastern politics remains largely "strongman politics." Understanding the personal traits and strategic goals of these leaders is key to predicting the region's future.</p>
            </div>
            <div class="bg-white rounded-xl shadow-lg p-6 sm:p-8">
                 <div class="border-b border-gray-200 mb-6">
                    <nav class="-mb-px flex justify-center space-x-8" aria-label="Tabs">
                        <button class="politics-tab tab-active py-4 px-1 border-b-2 font-medium text-sm" data-tab="current">Contemporary Leaders</button>
                        <button class="politics-tab py-4 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700 hover:border-gray-300" data-tab="historical">Historical Architects</button>
                    </nav>
                </div>
                <div id="politics-content">
                     <!-- JS will populate content here -->
                </div>
            </div>
        </section>
        
        <section id="future" class="py-16 sm:py-20">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900">Choices at the Crossroads: Predicting Future Trends</h2>
                <p class="mt-4 text-lg text-gray-600">Based on core trends, the Middle East of the next 5-10 years could head towards three distinctly different scenarios.</p>
            </div>
            <div class="mt-12 grid gap-8 md:grid-cols-3" id="future-content">
                 <!-- JS will populate content here -->
            </div>
        </section>

    </main>

    <footer class="bg-gray-800 text-white mt-24">
        <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8 text-center">
            <p>Middle East Panorama | Interactive Report</p>
            <p class="mt-2 text-sm text-gray-400">This report is based on public information analysis and is for research purposes only.</p>
        </div>
    </footer>
    
    <div id="video-modal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg shadow-xl w-11/12 max-w-4xl relative">
            <button id="close-modal" class="absolute -top-3 -right-3 bg-white rounded-full p-1 text-gray-600 hover:text-gray-900 z-10">
                 <svg class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2 2m2-2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
            </button>
            <div class="aspect-w-16 aspect-h-9">
                <iframe id="video-iframe" src="" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
        </div>
    </div>


<script>
document.addEventListener('DOMContentLoaded', function () {
    const data = {
        military: {
            wars: {
                title: "Timeline of Major Wars",
                description: "The modern history of the Middle East has been shaped by a series of brutal wars. These conflicts not only redrew geopolitical maps but also carved deep collective memories into the psyche of its nations.",
                timeline: [
                    { year: '1948', name: 'First Arab-Israeli War', summary: 'The state of Israel is established, leading to a failed invasion by an Arab coalition. Israel expands its territory, creating a large number of Palestinian refugees and establishing the core conflict.', videoId: null },
                    { year: '1956', name: 'Suez Crisis (Second War)', summary: 'Egypt nationalizes the Suez Canal, prompting an invasion by Britain, France, and Israel. US-Soviet intervention forces a withdrawal, ending British and French influence and establishing a US-Soviet bipolar order.', videoId: null },
                    { year: '1967', name: 'Six-Day War (Third War)', summary: 'Israel launches a preemptive strike, achieving a swift victory and capturing the Sinai Peninsula, Gaza, the West Bank, and the Golan Heights, tripling its territory.', videoId: 'YO0AfMfCfRU' },
                    { year: '1973', name: 'Yom Kippur War (Fourth War)', summary: 'Egypt and Syria launch a surprise attack, shattering the myth of Israeli invincibility. Though ultimately repelled, the war paved the way for peace negotiations.', videoId: 'f-Mh2i1u1pc' },
                    { year: '1982', name: 'Lebanon War (Fifth War)', summary: 'Israel invades Lebanon to expel the PLO. This action spurred Shia resistance, leading to the birth of Hezbollah.', videoId: null },
                    { year: '1980-88', name: 'Iran-Iraq War', summary: 'Iraq invades Iran, leading to an eight-year war of attrition with a million casualties. Iraq\'s massive war debt became a trigger for the Gulf War.', videoId: null },
                    { year: '1991', name: 'Gulf War', summary: 'Iraq invades Kuwait, leading a US-led coalition to liberate it. This cemented US dominance in the region and led to the rise of Al-Qaeda.', videoId: null },
                    { year: '2003', name: 'Iraq War', summary: 'The US invades Iraq and topples Saddam Hussein, but the post-war situation spirals out of control. Iraq descends into civil war, providing fertile ground for ISIS and expanding Iranian influence.', videoId: null },
                    { year: '2011-', name: '"Arab Spring"', summary: 'Regional turmoil leads to civil wars and power vacuums in several countries, providing space for various armed groups and extremist forces like ISIS to rise.', videoId: null },
                ]
            },
            comparison: {
                title: "Military Strength Comparison of Key Nations",
                description: "The arms race among major Middle Eastern nations is ongoing, but being well-equipped doesn't equate to combat effectiveness. Asymmetric advantages (like missiles and drones) are becoming game-changers.",
                chartData: {
                    labels: ['Israel', 'Iran', 'Saudi Arabia', 'Turkey', 'Egypt'],
                    datasets: [
                        {
                            label: 'Active Personnel (in 10,000s)',
                            data: [17, 60, 25.7, 33.5, 44],
                            backgroundColor: 'rgba(59, 130, 246, 0.7)',
                            borderColor: 'rgba(59, 130, 246, 1)',
                            borderWidth: 1
                        },
                        {
                            label: 'Defense Budget (Billion USD)',
                            data: [16.5, 15.45, 71.72, 20.0, 9.4],
                            backgroundColor: 'rgba(239, 68, 68, 0.7)',
                            borderColor: 'rgba(239, 68, 68, 1)',
                            borderWidth: 1
                        }
                    ]
                }
            },
            actors: {
                title: "Key Non-State Actors",
                description: "Powerful non-state armed groups, especially Iran's 'Axis of Resistance,' have become key variables reshaping Middle East security, making traditional state-level military analysis incomplete.",
                list: [
                    { name: "Hezbollah (Lebanon)", summary: "Considered the most powerful non-state actor, with a vast missile arsenal and extensive combat experience, posing a serious strategic threat to Israel." },
                    { name: "Houthis (Yemen)", summary: "Transformed from a tribal militia to a quasi-regular army with missiles and drones, capable of impacting global trade by attacking Red Sea shipping." },
                    { name: "Hamas (Gaza)", summary: "Entrenched in Gaza, it poses a direct and persistent security threat to Israel through rocket fire and an extensive tunnel network, triggering multiple large-scale conflicts." },
                    { name: "Islamic State (ISIS)", summary: "Though it lost its territorial 'caliphate,' it has morphed into an insurgency. Its global affiliates (especially in Africa and Afghanistan) are expanding, posing a continued threat." },
                ]
            }
        },
        economy: {
            transformation: {
                 title: "Blueprint for the 'Post-Oil' Era",
                description: "Facing pressure from oil price volatility, the US shale revolution, and the global energy transition, Gulf nations are driving a top-down economic and social transformation with unprecedented determination.",
                list: [
                    { 
                        name: "Saudi Arabia's 'Vision 2030'", 
                        summary: "Led by Crown Prince MBS, it aims to break oil dependency through giga-projects like NEOM and social reforms (e.g., allowing women to drive), developing tourism, tech, and entertainment. Challenges include sluggish private sector growth and the social pains of reform.",
                        videoId: 'TjRsjfUH-Zw'
                    },
                    { 
                        name: "UAE's Diversification Model", 
                        summary: "An early starter with significant results. Dubai is a global hub for finance, trade, and tourism. Future focus is on AI, fintech, and space exploration, attracting global capital and talent with an open business environment.",
                        videoId: null
                    },
                    { 
                        name: "Turkey's Resilience and Challenges", 
                        summary: "Diverse economic structure but plagued by high inflation and currency depreciation. The current priority is controlling inflation; balancing growth and stability is a long-term challenge.",
                        videoId: null
                    },
                    { 
                        name: "Egypt's Struggles and Reforms", 
                        summary: "Faces structural issues like a population boom and high debt. Undergoing painful IMF-backed reforms, like a floating exchange rate. Its economic future depends on deepening reforms, tourism recovery, and foreign investment.",
                        videoId: null
                    },
                ]
            },
            comparison: {
                title: "Key Economic Indicator Comparison",
                description: "The economic health and reform progress of nations vary significantly. Gulf states lead with their capital advantage, while others struggle with structural dilemmas. Click the buttons below to switch between different comparison charts.",
                 charts: {
                    gdp_per_capita: {
                        type: 'bar',
                        title: 'GDP per Capita Comparison (2022, USD)',
                        data: {
                            labels: ['Saudi Arabia', 'UAE', 'Israel', 'Turkey', 'Egypt'],
                            datasets: [{
                                label: 'GDP per Capita (USD)',
                                data: [30448, 54000, 54690, 10616, 4296],
                                backgroundColor: ['#3B82F6', '#10B981', '#F59E0B', '#EF4444', '#8B5CF6'],
                            }]
                        }
                    },
                    non_oil_gdp: {
                        type: 'doughnut',
                        title: 'Non-Oil Sector Economic Contribution',
                        data: {
                            labels: ['Saudi Arabia (Target)', 'UAE (Exports)', 'Israel', 'Turkey', 'Egypt'],
                            datasets: [{
                                label: 'Non-Oil Sector Share (%)',
                                data: [65, 70, 90, 90, 97],
                                backgroundColor: ['#3B82F6', '#10B981', '#F59E0B', '#EF4444', '#8B5CF6'],
                            }]
                        }
                    },
                    unemployment: {
                        type: 'bar',
                        title: 'Unemployment Rate Comparison (%)',
                        data: {
                             labels: ['Saudi Arabia (Target)', 'UAE', 'Israel', 'Turkey', 'Egypt'],
                            datasets: [{
                                label: 'Unemployment Rate (%)',
                                data: [7.0, 2.75, 3.5, 10.0, 7.2],
                                backgroundColor: ['#3B82F6', '#10B981', '#F59E0B', '#EF4444', '#8B5CF6'],
                            }]
                        }
                    }
                }
            }
        },
        digital: {
            title: "National AI Strategy Comparison",
            description: "Gulf states are driven by capital, Israel by innovation, and Turkey seeks strategic autonomy. Each nation is racing ahead in the new AI track, but their models and goals differ.",
            strategies: [
                { country: 'UAE', goal: 'Become a global AI leader', investment: 'MGX Fund (plans $100B)', project: 'Stargate AI data center, MBZUAI University' },
                { country: 'Saudi Arabia', goal: 'Become a global AI compute backend provider', investment: 'PIF (over $40B), HumAIn Fund', project: 'NEOM, partnerships with Google/AWS/NVIDIA' },
                { country: 'Israel', goal: 'Maintain global tech innovation leadership', investment: 'Venture Capital (highest % of GDP globally)', project: 'Military-civilian fusion (Unit 8200), CyberSpark' },
                { country: 'Turkey', goal: 'Enter top 20 in global AI index, tech autonomy', investment: 'Joint government & private sector', project: 'AI Security Institute, developing local LLMs' }
            ]
        },
        politics: {
            current: {
                title: "Contemporary Leaders",
                description: "The current Middle Eastern stage is dominated by a few powerful strongmen. Their personal styles and strategic decisions are shaping the region's present and future.",
                leaders: [
                    { name: 'Mohammed bin Salman (MBS)', country: 'Saudi Arabia', style: 'An ambitious and decisive reformer who consolidated power with an iron fist. His foreign policy is now entirely in service of the success of "Vision 2030".' },
                    { name: 'Ali Khamenei', country: 'Iran', style: 'Combines ideological firmness with strategic pragmatism. Controls all core state powers and is the supreme commander of the "Axis of Resistance," but faces severe internal and external challenges.' },
                    { name: 'Recep Tayyip Erdoğan', country: 'Turkey', style: 'An extreme pragmatist and opportunist, adept at playing the great power balancing act. Domestic and foreign policies serve his personal political survival.' },
                    { name: 'Benjamin Netanyahu', country: 'Israel', style: 'Experienced but highly controversial. His political career revolves around confronting Iran and maintaining Israel\'s absolute security. Formed the most right-wing government in history to stay in power.' },
                    { name: 'Mohamed bin Zayed (MBZ)', country: 'UAE', style: 'A low-key, pragmatic strategist who advocates for an assertive foreign policy, successfully transforming the UAE into a modern regional power.' }
                ]
            },
            historical: {
                 title: "Historical Architects",
                description: "The decisions and visions of certain historical figures continue to profoundly influence the political realities of the Middle East. Their legacies are the starting point for understanding contemporary conflicts and alliances.",
                leaders: [
                    { name: 'David Ben-Gurion', country: 'Israel', style: 'The "founding father" of Israel, a staunch Zionist who successfully established the state but also began decades of conflict with the Arab world.' },
                    { name: 'Gamal Abdel Nasser', country: 'Egypt', style: 'The embodiment of Pan-Arab nationalism and a hero of anti-Western colonialism. His ideas deeply influenced a generation of Arabs.' },
                    { name: 'Anwar Sadat', country: 'Egypt', style: 'A pragmatic strategist who initiated the peace process with Israel through the Yom Kippur War and a historic visit to Jerusalem, for which he was assassinated.' },
                    { name: 'Ruhollah Khomeini', country: 'Iran', style: 'Leader of the Iranian Islamic Revolution who established a theocracy and pursued anti-US/anti-Israel policies, completely changing the region\'s geopolitics.' },
                ]
            }
        },
        future: {
            title: "Future Scenario Concepts",
            description: "The future of the Middle East is not predetermined; it will be the result of the interplay of various forces. Here are three possible scenarios based on core trends.",
            scenarios: [
                { name: "Digital Oasis (Most Optimistic)", summary: "Cooperation and transformation become the main theme, with regional conflicts de-escalating. Gulf states successfully transition into new hubs for AI and green energy, and the Palestinian issue finds a pragmatic solution.", icon: '✨' },
                { name: "Neo-Byzantium (Most Likely)", summary: "A continuation of current trends. The region is fragmented into competing but mutually constrained power blocs. Proxy conflicts and 'grey-zone' confrontations persist, but all parties avoid full-scale war.", icon: '⚔️' },
                { name: "Burning Frontier (Most Pessimistic)", summary: "A regional flashpoint spirals out of control into a major war, or a key nation experiences internal collapse. Economic transformation fails, and extremist groups are resurrected in the power vacuum.", icon: '🔥' }
            ]
        }
    };

    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    mobileMenuButton.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });
    
    document.querySelectorAll('#mobile-menu a').forEach(link => {
        link.addEventListener('click', () => {
            mobileMenu.classList.add('hidden');
        });
    });


    function setupTab(containerId, tabClass, contentContainerId, initialTab) {
        const tabButtons = document.querySelectorAll(`.${tabClass}`);
        const contentContainer = document.getElementById(contentContainerId);

        function switchTab(tabName) {
            tabButtons.forEach(button => {
                if (button.dataset.tab === tabName) {
                    button.classList.add('tab-active');
                    button.classList.remove('text-gray-500', 'hover:text-gray-700', 'hover:border-gray-300', 'border-transparent');
                } else {
                    button.classList.remove('tab-active');
                    button.classList.add('text-gray-500', 'hover:text-gray-700', 'hover:border-gray-300', 'border-transparent');
                }
            });
            renderContent(contentContainer, tabName);
        }

        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                switchTab(button.dataset.tab);
            });
        });
        
        switchTab(initialTab);
    }
    
    function renderContent(container, tabName) {
        container.innerHTML = '';
        if (container.id === 'military-content') {
            renderMilitaryContent(container, tabName);
        } else if (container.id === 'economy-content') {
            renderEconomyContent(container, tabName);
        } else if (container.id === 'politics-content') {
            renderPoliticsContent(container, tabName);
        }
    }

    function renderMilitaryContent(container, tabName) {
        const contentData = data.military[tabName];
        let html = `<h3 class="text-xl font-bold text-center mb-2">${contentData.title}</h3>`;
        html += `<p class="text-md text-gray-600 text-center max-w-3xl mx-auto mb-8">${contentData.description}</p>`;

        if (tabName === 'wars') {
            html += `<div class="lg:flex lg:space-x-8">
                        <div class="lg:w-1/3 relative border-l-2 border-gray-300 pl-8 py-4">
                            ${contentData.timeline.map((item, index) => `
                                <div id="timeline-item-${index}" class="timeline-item mb-8 cursor-pointer" data-index="${index}">
                                    <h4 class="font-bold text-lg">${item.year} - ${item.name}</h4>
                                </div>
                            `).join('')}
                        </div>
                        <div id="timeline-details" class="lg:w-2/3 mt-8 lg:mt-0 bg-blue-50 p-6 rounded-lg">
                        </div>
                     </div>`;
        } else if (tabName === 'comparison') {
            html += `<div class="chart-container"><canvas id="military-chart"></canvas></div>`;
        } else if (tabName === 'actors') {
            html += `<div class="grid md:grid-cols-2 gap-6">
                        ${contentData.list.map(item => `
                            <div class="bg-gray-100 p-6 rounded-lg">
                                <h4 class="font-bold text-lg text-blue-700">${item.name}</h4>
                                <p class="mt-2 text-gray-600">${item.summary}</p>
                            </div>
                        `).join('')}
                     </div>`;
        }
        container.innerHTML = html;
        
        if (tabName === 'wars') {
            const timelineItems = document.querySelectorAll('.timeline-item');
            const detailsContainer = document.getElementById('timeline-details');
            
            function selectTimelineItem(index) {
                timelineItems.forEach(item => item.classList.remove('active'));
                document.getElementById(`timeline-item-${index}`).classList.add('active');
                
                const itemData = data.military.wars.timeline[index];
                detailsContainer.innerHTML = `
                    <h4 class="text-2xl font-bold text-gray-800">${itemData.name} (${itemData.year})</h4>
                    <p class="mt-4 text-gray-700 leading-relaxed">${itemData.summary}</p>
                    ${itemData.videoId ? `<button class="open-modal mt-6 bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 transition" data-video-id="${itemData.videoId}">▶️ Watch Related Video</button>` : ''}
                `;
            }

            timelineItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    selectTimelineItem(e.currentTarget.dataset.index);
                });
            });

            selectTimelineItem(0);
        } else if (tabName === 'comparison') {
            createChart('military-chart', 'bar', data.military.comparison.chartData);
        }
    }
    
    let economyChartInstance = null;
    function renderEconomyContent(container, tabName) {
        const contentData = data.economy[tabName];
         let html = `<h3 class="text-xl font-bold text-center mb-2">${contentData.title}</h3>`;
        html += `<p class="text-md text-gray-600 text-center max-w-3xl mx-auto mb-8">${contentData.description}</p>`;

        if (tabName === 'transformation') {
             html += `<div class="space-y-6">
                        ${contentData.list.map(item => `
                            <div class="bg-gray-50 p-6 rounded-lg border border-gray-200">
                                <div class="flex items-center justify-between">
                                    <h4 class="font-bold text-lg text-blue-700">${item.name}</h4>
                                    ${item.videoId ? `<button class="open-modal modal-video-link text-sm font-medium text-red-600 p-2 rounded-md" data-video-id="${item.videoId}">▶️ Video Intro</button>` : ''}
                                </div>
                                <p class="mt-2 text-gray-600">${item.summary}</p>
                            </div>
                        `).join('')}
                     </div>`;
        } else if (tabName === 'comparison') {
            html += `<div class="text-center mb-6">
                        <span class="isolate inline-flex rounded-md shadow-sm">
                            <button data-chart="gdp_per_capita" class="econ-chart-btn relative inline-flex items-center rounded-l-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-10">GDP per Capita</button>
                            <button data-chart="non_oil_gdp" class="econ-chart-btn relative -ml-px inline-flex items-center bg-white px-3 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-10">Non-Oil Economy</button>
                            <button data-chart="unemployment" class="econ-chart-btn relative -ml-px inline-flex items-center rounded-r-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-10">Unemployment</button>
                        </span>
                    </div>
                    <div class="chart-container"><canvas id="economy-chart"></canvas></div>`;
        }
        container.innerHTML = html;
        
        if (tabName === 'comparison') {
            const chartButtons = document.querySelectorAll('.econ-chart-btn');
            
            function renderEconomyChart(chartName) {
                 if (economyChartInstance) {
                    economyChartInstance.destroy();
                }
                const chartInfo = contentData.charts[chartName];
                economyChartInstance = createChart('economy-chart', chartInfo.type, chartInfo.data, chartInfo.title);
                
                chartButtons.forEach(btn => {
                    if (btn.dataset.chart === chartName) {
                        btn.classList.add('bg-blue-100', 'text-blue-700');
                    } else {
                        btn.classList.remove('bg-blue-100', 'text-blue-700');
                    }
                });
            }

            chartButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    renderEconomyChart(e.currentTarget.dataset.chart);
                });
            });

            renderEconomyChart('gdp_per_capita');
        }
    }

    function renderPoliticsContent(container, tabName) {
        const contentData = data.politics[tabName];
        let html = `<h3 class="text-xl font-bold text-center mb-2">${contentData.title}</h3>`;
        html += `<p class="text-md text-gray-600 text-center max-w-3xl mx-auto mb-8">${contentData.description}</p>`;
        
        html += `<div class="grid md:grid-cols-2 lg:grid-cols-2 gap-6">
            ${contentData.leaders.map(leader => `
                <div class="bg-white border border-gray-200 p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                    <h4 class="font-bold text-xl text-gray-800">${leader.name}</h4>
                    <p class="text-sm font-medium text-blue-600">${leader.country}</p>
                    <p class="mt-3 text-gray-600">${leader.style}</p>
                </div>
            `).join('')}
        </div>`;

        if (tabName === 'current') {
            const mbsCard = contentData.leaders.find(l => l.name.includes('MBS'));
            if (mbsCard) {
                html += `
                    <div class="mt-8 text-center">
                        <button class="open-modal modal-video-link inline-flex items-center bg-gray-100 p-3 rounded-lg" data-video-id="nCS_Wn8wSqM">
                           ▶️ Watch profile video on Mohammed bin Salman
                        </button>
                    </div>`;
            }
        }
        container.innerHTML = html;
    }

    function renderDigitalContent() {
        const container = document.getElementById('digital-content');
        const contentData = data.digital;
        let html = `<h3 class="text-xl font-bold text-center mb-2">${contentData.title}</h3>`;
        html += `<p class="text-md text-gray-600 text-center max-w-3xl mx-auto mb-8">${contentData.description}</p>`;
        
        html += `<div class="overflow-x-auto">
                    <table class="w-full text-sm text-left text-gray-500">
                        <thead class="text-xs text-gray-700 uppercase bg-gray-100">
                            <tr>
                                <th scope="col" class="px-6 py-3">Country</th>
                                <th scope="col" class="px-6 py-3">Core Goal</th>
                                <th scope="col" class="px-6 py-3">Investment Vehicle</th>
                                <th scope="col" class="px-6 py-3">Flagship Project</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${contentData.strategies.map(s => `
                                <tr class="bg-white border-b hover:bg-gray-50">
                                    <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">${s.country}</th>
                                    <td class="px-6 py-4">${s.goal}</td>
                                    <td class="px-6 py-4">${s.investment}</td>
                                    <td class="px-6 py-4">${s.project}</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                 </div>`;
        container.innerHTML = html;
    }
    
    function renderFutureContent() {
        const container = document.getElementById('future-content');
        const contentData = data.future;
        container.innerHTML = contentData.scenarios.map(s => `
            <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 ${s.name.includes('Optimistic') ? 'border-green-400' : s.name.includes('Likely') ? 'border-yellow-400' : 'border-red-400'}">
                <div class="flex items-center mb-4">
                    <span class="text-3xl mr-4">${s.icon}</span>
                    <h3 class="text-xl font-bold text-gray-900">${s.name}</h3>
                </div>
                <p class="text-gray-600">${s.summary}</p>
            </div>
        `).join('');
    }

    function createChart(canvasId, type, chartData, title = '') {
        const ctx = document.getElementById(canvasId).getContext('2d');
        return new Chart(ctx, {
            type: type,
            data: chartData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: type === 'doughnut' ? 'bottom' : 'top',
                    },
                    title: {
                        display: !!title,
                        text: title,
                        font: { size: 16 }
                    },
                    tooltip: {
                         callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed.y !== null && type !== 'doughnut') {
                                    label += context.parsed.y;
                                } else if (type === 'doughnut') {
                                     label += context.parsed;
                                }
                                if (chartData.datasets[0].label.includes('Personnel')) {
                                    label += '0,000';
                                } else if (chartData.datasets[0].label.includes('GDP per Capita')) {
                                    label = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0 }).format(context.parsed.y);
                                } else if (chartData.datasets[0].label.includes('Budget')) {
                                    label += ' Billion';
                                } else if (type === 'doughnut') {
                                    label += '%';
                                } else if(chartData.datasets[0].label.includes('Unemployment')){
                                    label += '%';
                                }
                                return label;
                            }
                        }
                    }
                },
                scales: type === 'bar' ? {
                    y: {
                        beginAtZero: true
                    }
                } : {}
            }
        });
    }
    
    // Modal Logic
    const videoModal = document.getElementById('video-modal');
    const closeModalBtn = document.getElementById('close-modal');
    const videoIframe = document.getElementById('video-iframe');

    document.body.addEventListener('click', function(e) {
        if (e.target.closest('.open-modal')) {
            const videoId = e.target.closest('.open-modal').dataset.videoId;
            videoIframe.src = `https://www.youtube.com/embed/${videoId}`;
            videoModal.classList.remove('hidden');
        }
    });

    closeModalBtn.addEventListener('click', () => {
        videoModal.classList.add('hidden');
        videoIframe.src = '';
    });
    
    videoModal.addEventListener('click', (e) => {
        if (e.target === videoModal) {
            videoModal.classList.add('hidden');
            videoIframe.src = '';
        }
    });


    // Initializations
    setupTab('military', 'military-tab', 'military-content', 'wars');
    setupTab('economy', 'economy-tab', 'economy-content', 'transformation');
    setupTab('politics', 'politics-tab', 'politics-content', 'current');
    renderDigitalContent();
    renderFutureContent();
});
</script>
</script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6214772877334340"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="fluid"
     data-ad-layout-key="-fy+4+18-27-l"
     data-ad-client="ca-pub-6214772877334340"
     data-ad-slot="1537824208"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</body>
</html>
