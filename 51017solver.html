<!DOCTYPE html>
<html lang="zh-CN">
<head>
 <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6214772877334340"
     crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>深度报告：优化求解器在下一代ERP中的应用</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Lora:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- Chosen Palette: The Economist (White, Black, Red Accent) -->
    <!-- Application Structure Plan: The single, linear, top-down structure is maintained. The major enhancement is the addition of interactive "Demo Panels" for each key scenario. These panels are embedded directly into the document flow, respecting the "no secondary clicks" constraint. Each panel provides simple inputs (sliders, toggles), an "Optimize" button, and a visual output, allowing users to experience the solver's impact directly within the context of the report. This transforms the document from a static report into an interactive, educational experience. -->
    <!-- Visualization & Content Choices: Goal: Demonstrate Solver Impact -> Method: Interactive Demo Panels -> Interaction: Sliders, buttons trigger JS functions that simulate optimization and update visual outputs (custom timelines, Gantt charts, doughnut charts) -> Justification: This provides a hands-on experience, making abstract concepts tangible. For instance, the Process Manufacturing demo visually contrasts a naive vs. an optimized sequence, immediately showing the value of reducing switchover time. The new demos are designed to be simple, illustrative "live figures" that enhance, rather than disrupt, the report's professional aesthetic. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Lora', serif;
            background-color: #FFFFFF;
            color: #1a1a1a;
        }
        h1, h2, h3, h4, h5, h6, .sans-serif {
            font-family: 'Inter', sans-serif;
        }
        .economist-red {
            color: #E3120B;
        }
        .economist-red-bg {
            background-color: #E3120B;
        }
        .content-body p {
            line-height: 1.8;
            margin-bottom: 1.5rem;
        }
        .architecture-box {
            background-color: #f8fafc;
            border: 1px solid #e2e8f0;
            border-left: 4px solid #E3120B;
        }
        .demo-panel {
            background-color: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
        }
        .gantt-bar, .timeline-bar {
            transition: all 0.5s ease-in-out;
            box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.1);
        }
        /* Custom styles for sliders */
        input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 8px;
            background: #d1d5db;
            border-radius: 5px;
            outline: none;
            opacity: 0.7;
            transition: opacity .2s;
        }
        input[type="range"]:hover {
            opacity: 1;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #E3120B;
            cursor: pointer;
            border-radius: 50%;
        }
        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #E3120B;
            cursor: pointer;
            border-radius: 50%;
        }
    </style>
</head>
<body class="antialiased">

    <main class="max-w-4xl mx-auto p-6 md:p-12">
        <!-- Header -->
        <header class="border-b-2 border-black pb-4 mb-10">
            <h1 class="text-4xl md:text-5xl font-bold text-black tracking-tight">下一代ERP的智能核心</h1>
            <p class="mt-4 text-xl text-slate-700">深度解析与交互演示：优化求解器如何作为系统的原生内核，重塑企业决策。</p>
        </header>

        <!-- Main Content Body -->
        <div class="content-body">
            <!-- Introduction Section (abridged for brevity) -->
            <section class="mb-12">
                <h2 class="section-title text-3xl font-bold mb-4 sans-serif">从“记录者”到“决策者”的进化</h2>
                <p>下一代ERP的根本性进化，在于其内核中原生内置了强大的决策能力，使其从一个被动的记录工具，转变为一个主动的、能够指导未来的“智能决策平台”。这一进化的技术基石，正是<strong>优化求解器（Solver）</strong>。</p>
            </section>
            
            <!-- Principles Section (abridged for brevity) -->
            <section class="mb-12 p-6 bg-slate-50 rounded-md border border-slate-200">
                <h2 class="section-title text-3xl font-bold mb-6 sans-serif">揭秘智能ERP的“思考”方式</h2>
                <p>智能ERP之所以能够“思考”并做出最优决策，其内置的优化内核遵循着严谨的逻辑流程，通过业务建模、内核求解、方案生成三步，将现实问题转化为最优商业行动。</p>
                 <h3 class="text-2xl font-bold mt-10 mb-4 sans-serif economist-red">卓越内核的标志：阿里巴巴达摩院MindOpt求解器</h3>
                <p>一个ERP系统的决策能力上限，取决于其内置决策内核的性能。阿里巴巴达摩院MindOpt求解器，正是为成为下一代企业软件的强大、可嵌入的核心而生。</p>
            </section>

            <!-- Manufacturing Section -->
            <section class="mb-12">
                <h2 class="section-title text-3xl font-bold mb-6 sans-serif">赋能智造：生产计划与排程</h2>
                
                <h3 class="text-2xl font-bold mt-8 mb-4 sans-serif economist-red">流程制造：优化连续生产的节拍</h3>
                <p><strong>业务挑战：</strong>在医药、化工等行业，不同产品批次间的清洗和准备时间（切换成本）高昂。如何安排生产顺序，在满足订单的同时最小化切换成本和时间，是核心难题。</p>
                <div class="architecture-box p-6 mt-4 sans-serif text-sm">
                    <h4 class="font-bold text-base mb-2">流程制造APS核心决策方案</h4>
                    <p>ERP的APS模块触发其内置的MindOpt决策内核，以“总切换时间最小化”为目标，为每台关键设备计算出最优的生产任务序列，结果直接成为系统内可执行的生产指令。</p>
                </div>

                <!-- Demo Panel: Process Manufacturing -->
                <div class="demo-panel p-6 mt-6 sans-serif">
                    <h4 class="font-semibold text-lg text-center mb-4">场景演示：批次顺序优化</h4>
                    <div class="grid md:grid-cols-2 gap-6 items-center">
                        <div>
                            <p class="text-sm font-medium">待生产批次：</p>
                            <div class="flex space-x-2 mt-2">
                                <div class="w-1/3 text-center p-2 bg-blue-500 text-white rounded">批次A</div>
                                <div class="w-1/3 text-center p-2 bg-yellow-400 text-black rounded">批次B</div>
                                <div class="w-1/3 text-center p-2 bg-red-600 text-white rounded">批次C</div>
                            </div>
                            <p class="text-xs text-slate-600 mt-2">切换成本：相似色切换(1小时)，跨色系切换(3小时)。</p>
                            <button id="run-process-opt" class="w-full mt-4 economist-red-bg text-white font-bold py-2 px-4 rounded hover:opacity-90 transition">运行顺序优化</button>
                        </div>
                        <div class="text-sm">
                            <p><span class="font-bold">常规顺序 (A→B→C):</span> 总耗时 <span id="naive-time" class="font-bold economist-red">?</span> 小时</p>
                            <div id="naive-timeline" class="w-full h-8 bg-slate-200 rounded mt-1 flex items-center"></div>
                            <p class="mt-2"><span class="font-bold">优化顺序:</span> 总耗时 <span id="optimized-time" class="font-bold text-green-600">?</span> 小时</p>
                            <div id="optimized-timeline" class="w-full h-8 bg-slate-200 rounded mt-1 flex items-center"></div>
                        </div>
                    </div>
                </div>

                <h3 class="text-2xl font-bold mt-10 mb-4 sans-serif economist-red">离散制造：驾驭复杂的装配网络</h3>
                <p><strong>业务挑战：</strong>在汽车、电子等行业，任何一个物料或产能瓶颈都可能导致整条产线的停工。如何进行全局的、考虑双重约束的智能排程是终极目标。</p>
                <div class="architecture-box p-6 mt-4 sans-serif text-sm">
                    <h4 class="font-bold text-base mb-2">离散制造APS核心决策方案</h4>
                    <p>以“最小化订单拖期时间”为目标，内置的MindOpt决策内核对“物料-产能”约束网络进行求解，输出全局最优的详细生产时刻表，并无缝下发到MES和WMS模块执行。</p>
                </div>

                <!-- Demo Panel: Discrete Manufacturing -->
                <div class="demo-panel p-6 mt-6 sans-serif">
                    <h4 class="font-semibold text-lg text-center mb-4">场景演示：智能排程</h4>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="md:col-span-1">
                            <label for="order-priority" class="block text-sm font-medium text-slate-700">订单C优先级:</label>
                            <input type="range" id="order-priority" min="1" max="10" value="5" class="mt-1">
                            <div class="flex justify-between text-xs"><span id="priority-label">普通</span></div>
                             <div class="mt-4 flex items-center">
                                <input id="machine-maintenance" type="checkbox" class="h-4 w-4 rounded border-slate-300 text-red-600 focus:ring-red-500">
                                <label for="machine-maintenance" class="ml-2 block text-sm text-slate-900">设备2意外停机</label>
                            </div>
                            <button id="run-discrete-opt" class="w-full mt-4 economist-red-bg text-white font-bold py-2 px-4 rounded hover:opacity-90 transition">重新智能排程</button>
                        </div>
                        <div class="md:col-span-2 text-sm">
                             <div id="discrete-gantt" class="space-y-2"></div>
                        </div>
                    </div>
                </div>

            </section>
            
            <!-- Enterprise Section -->
            <section class="mb-12">
                <h2 class="section-title text-3xl font-bold mb-6 sans-serif">超越产销：企业综合管理</h2>
                <h3 class="text-2xl font-bold mt-8 mb-4 sans-serif economist-red">财务预算与成本分析</h3>
                <p><strong>业务挑战：</strong>传统的预算分配往往基于历史数据和部门间的博弈，无法确保资源真正投向了能为公司创造最大价值的地方。</p>
                 <div class="architecture-box p-6 mt-4 sans-serif text-sm">
                    <h4 class="font-bold text-base mb-2">智能预算核心决策方案</h4>
                    <p>ERP财务模块启动决策内核，以“公司整体战略价值/ROI最大化”为目标，计算出能带来最大全局收益的资金分配方案，并固化为系统内的预算基线。</p>
                </div>
                <!-- Demo Panel: Budgeting -->
                <div class="demo-panel p-6 mt-6 sans-serif">
                     <h4 class="font-semibold text-lg text-center mb-4">场景演示：最优预算分配</h4>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6 items-center">
                        <div>
                           <label class="block text-sm font-medium">总预算 (万元): <span id="total-budget-label" class="font-bold economist-red">1000</span></label>
                           <input type="range" id="total-budget" min="500" max="2000" value="1000" step="100">
                           <p class="text-sm mt-4 font-medium">各部门预期ROI：</p>
                           <ul class="text-xs mt-2 space-y-1">
                               <li>市场部: 15%</li>
                               <li>研发部: 25%</li>
                               <li>运营部: 12%</li>
                           </ul>
                           <button id="run-budget-opt" class="w-full mt-4 economist-red-bg text-white font-bold py-2 px-4 rounded hover:opacity-90 transition">优化预算分配</button>
                        </div>
                        <div class="relative h-64">
                            <canvas id="budget-chart"></canvas>
                             <div class="absolute inset-0 flex flex-col items-center justify-center pointer-events-none">
                                <span class="text-sm text-slate-600">最大化总ROI</span>
                                <span id="max-roi-label" class="text-2xl font-bold text-green-600"></span>
                            </div>
                        </div>
                     </div>
                </div>
            </section>

            <!-- About Section -->
            <section class="mt-16 text-center border-t border-slate-300 pt-10">
                 <a href="https://opt.aliyun.com/" target="_blank" class="mt-6 inline-block economist-red-bg text-white font-bold py-3 px-6 rounded-lg hover:opacity-90 transition sans-serif">
                    了解更多 MindOpt 决策内核技术
                </a>
            </section>
        </div>
    </main>

<script>
document.addEventListener('DOMContentLoaded', function() {
    
    // --- DEMO 1: PROCESS MANUFACTURING ---
    const runProcessOptBtn = document.getElementById('run-process-opt');
    const naiveTimeline = document.getElementById('naive-timeline');
    const optimizedTimeline = document.getElementById('optimized-timeline');
    const naiveTimeLabel = document.getElementById('naive-time');
    const optimizedTimeLabel = document.getElementById('optimized-time');

    const processData = {
        jobs: [
            { id: 'A', time: 4, color: 'blue', class: 'bg-blue-500' },
            { id: 'B', time: 5, color: 'yellow', class: 'bg-yellow-400' },
            { id: 'C', time: 3, color: 'red', class: 'bg-red-600' }
        ],
        switchCost: (from, to) => {
            if (from === to) return 0;
            const palette = { blue: 'cool', yellow: 'warm', red: 'warm' };
            return palette[from] === palette[to] ? 1 : 3;
        }
    };

    function renderTimeline(container, sequence, totalTime) {
        container.innerHTML = '';
        let currentTime = 0;
        for (let i = 0; i < sequence.length; i++) {
            const job = sequence[i];
            
            if (i > 0) {
                const prevJob = sequence[i-1];
                const cost = processData.switchCost(prevJob.color, job.color);
                const switchBar = document.createElement('div');
                switchBar.className = 'timeline-bar h-full bg-slate-400 flex items-center justify-center text-white text-xs';
                switchBar.style.width = `${(cost / totalTime) * 100}%`;
                switchBar.textContent = `${cost}h`;
                container.appendChild(switchBar);
                currentTime += cost;
            }
            
            const jobBar = document.createElement('div');
            jobBar.className = `timeline-bar h-full ${job.class} flex items-center justify-center text-white font-bold`;
            jobBar.style.width = `${(job.time / totalTime) * 100}%`;
            jobBar.textContent = job.id;
            container.appendChild(jobBar);
            currentTime += job.time;
        }
    }

    runProcessOptBtn.addEventListener('click', () => {
        // Naive Sequence: A -> B -> C
        const naiveSequence = ['A', 'B', 'C'].map(id => processData.jobs.find(j => j.id === id));
        let naiveTotalTime = 0;
        naiveTotalTime += naiveSequence[0].time;
        naiveTotalTime += processData.switchCost(naiveSequence[0].color, naiveSequence[1].color) + naiveSequence[1].time;
        naiveTotalTime += processData.switchCost(naiveSequence[1].color, naiveSequence[2].color) + naiveSequence[2].time;
        naiveTimeLabel.textContent = naiveTotalTime;
        renderTimeline(naiveTimeline, naiveSequence, naiveTotalTime);

        // Optimized Sequence: A -> C -> B (blue -> red -> yellow) is better than A->B->C (blue->yellow->red)
        const optimizedSequence = ['A', 'C', 'B'].map(id => processData.jobs.find(j => j.id === id));
        let optimizedTotalTime = 0;
        optimizedTotalTime += optimizedSequence[0].time;
        optimizedTotalTime += processData.switchCost(optimizedSequence[0].color, optimizedSequence[1].color) + optimizedSequence[1].time;
        optimizedTotalTime += processData.switchCost(optimizedSequence[1].color, optimizedSequence[2].color) + optimizedSequence[2].time;
        optimizedTimeLabel.textContent = optimizedTotalTime;
        renderTimeline(optimizedTimeline, optimizedSequence, optimizedTotalTime);
    });

    // --- DEMO 2: DISCRETE MANUFACTURING ---
    const runDiscreteOptBtn = document.getElementById('run-discrete-opt');
    const ganttContainer = document.getElementById('discrete-gantt');
    const prioritySlider = document.getElementById('order-priority');
    const priorityLabel = document.getElementById('priority-label');
    const maintenanceCheckbox = document.getElementById('machine-maintenance');

    const jobColors = ['bg-sky-600', 'bg-indigo-600', 'bg-emerald-600'];
    
    function updatePriorityLabel() {
        const val = prioritySlider.value;
        if(val > 7) priorityLabel.textContent = "高";
        else if (val < 4) priorityLabel.textContent = "低";
        else priorityLabel.textContent = "普通";
    }
    prioritySlider.addEventListener('input', updatePriorityLabel);

    function renderDiscreteGantt(jobs) {
        ganttContainer.innerHTML = '';
        const machines = { 1: [], 2: [] };
        const totalDuration = 20;

        jobs.forEach((job, index) => {
            const earliestMachine = machines[1].length <= machines[2].length ? 1 : 2;
            machines[earliestMachine].push(job);
        });

        Object.keys(machines).forEach(machineId => {
            const machineRow = document.createElement('div');
            machineRow.className = 'flex items-center mb-1';
            const machineLabel = document.createElement('div');
            machineLabel.className = 'w-16 text-xs font-bold text-slate-600 pr-2 text-right';
            machineLabel.textContent = `设备 ${machineId}:`;
            const timeline = document.createElement('div');
            timeline.className = 'flex-1 h-6 bg-slate-200 rounded relative';
            
            let currentTime = 0;
            machines[machineId].forEach((job, index) => {
                const bar = document.createElement('div');
                bar.className = `absolute h-full ${jobColors[job.id % 3]} text-white text-xs flex items-center justify-center rounded`;
                bar.style.left = `${(currentTime / totalDuration) * 100}%`;
                bar.style.width = `${(job.duration / totalDuration) * 100}%`;
                bar.textContent = `订单 ${job.name}`;
                timeline.appendChild(bar);
                currentTime += job.duration;
            });
            
            if (machineId === '2' && maintenanceCheckbox.checked) {
                 const maintenanceBlock = document.createElement('div');
                 maintenanceBlock.className = 'absolute h-full bg-red-500 bg-opacity-50 text-white text-xs flex items-center justify-center rounded';
                 maintenanceBlock.style.left = '0%';
                 maintenanceBlock.style.width = '100%';
                 maintenanceBlock.textContent = '停机';
                 timeline.appendChild(maintenanceBlock);
            }

            machineRow.appendChild(machineLabel);
            machineRow.appendChild(timeline);
            ganttContainer.appendChild(machineRow);
        });
    }

    function runDiscreteOptimization() {
        let jobs = [
            { id: 1, name: 'A', duration: 4, priority: 5 },
            { id: 2, name: 'B', duration: 6, priority: 8 },
            { id: 3, name: 'C', duration: 5, priority: parseInt(prioritySlider.value) }
        ];

        if(maintenanceCheckbox.checked) {
            jobs.forEach(j => {
                if(j.id % 2 === 0) j.duration *= 1.2; // Rerouting adds time
            });
        }

        jobs.sort((a, b) => b.priority - a.priority);
        renderDiscreteGantt(jobs);
    }
    runDiscreteOptBtn.addEventListener('click', runDiscreteOptimization);

    // --- DEMO 3: BUDGETING ---
    const runBudgetOptBtn = document.getElementById('run-budget-opt');
    const totalBudgetSlider = document.getElementById('total-budget');
    const totalBudgetLabel = document.getElementById('total-budget-label');
    const maxRoiLabel = document.getElementById('max-roi-label');
    let budgetChart = null;

    function renderBudgetChart(data) {
        const ctx = document.getElementById('budget-chart').getContext('2d');
        if (budgetChart) {
            budgetChart.destroy();
        }
        budgetChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['市场部', '研发部', '运营部'],
                datasets: [{
                    data: data,
                    backgroundColor: ['#3b82f6', '#8b5cf6', '#10b981'],
                    borderColor: '#f8fafc',
                    borderWidth: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '60%',
                plugins: {
                    legend: { position: 'bottom', labels: {font: {family: "'Inter', sans-serif"}} },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed !== null) {
                                    label += context.parsed + ' 万元';
                                }
                                return label;
                            }
                        }
                    }
                }
            }
        });
    }

    function runBudgetOptimization() {
        const totalBudget = parseInt(totalBudgetSlider.value);
        totalBudgetLabel.textContent = totalBudget;
        
        // Simplified optimization logic: allocate based on ROI
        const departments = [
            { name: '市场部', roi: 0.15, allocation: 0 },
            { name: '研发部', roi: 0.25, allocation: 0 },
            { name: '运营部', roi: 0.12, allocation: 0 }
        ];

        // This is a very simple greedy algorithm for demo purposes
        let remainingBudget = totalBudget;
        departments.sort((a,b) => b.roi - a.roi); // Prioritize highest ROI
        departments.forEach(dep => {
            // Allocate a base amount, then proportionally
            let alloc = Math.min(remainingBudget, totalBudget * (dep.roi / 0.52)); // 0.52 is sum of ROIs
            dep.allocation = Math.round(alloc);
            remainingBudget -= dep.allocation;
        });

        // Distribute any rounding leftovers
        if (remainingBudget > 0) {
            departments[0].allocation += remainingBudget;
        }

        departments.sort((a, b) => a.name.localeCompare(b.name)); // Sort back to original order for chart
        
        const allocations = departments.map(d => d.allocation);
        renderBudgetChart(allocations);

        const totalROI = departments.reduce((acc, dep) => acc + dep.allocation * dep.roi, 0);
        maxRoiLabel.textContent = totalROI.toFixed(2);
    }
    
    totalBudgetSlider.addEventListener('input', () => {
        totalBudgetLabel.textContent = totalBudgetSlider.value;
    });
    runBudgetOptBtn.addEventListener('click', runBudgetOptimization);

    // Initial renders
    runProcessOptBtn.click();
    updatePriorityLabel();
    runDiscreteOptimization();
    runBudgetOptimization();
});
</script>

</body>
</html>
